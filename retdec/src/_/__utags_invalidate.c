//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int32_t __utags_flush(int32_t a1, int32_t a2);
int32_t __utags_invalidate(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6);
int32_t clk_disable(int32_t a1, int32_t a2);
int32_t clk_get_parent(void);
int32_t clock_lib2_rcg_set_rate_hid(int32_t * a1, int32_t a2, int32_t a3);
int32_t clock_lib2_rcg_set_rate_mnd(int32_t * a1, int32_t a2);
int32_t clock_lib2_vote_clk_disable(int32_t a1, int32_t a2, int32_t a3);
int32_t fdt_add_subnode(int32_t a1, int32_t a2, char * str, int32_t a4, int32_t a5, int32_t a6, int32_t a7);
int32_t fdt_add_subnode_namelen(int32_t a1, int32_t a2, char * a3, int32_t a4);
int32_t get_int_array_prop(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t get_last_status(void);
int32_t get_string_prop(int32_t a1, int32_t a2);
int32_t mdp_clock_enable(void);
int32_t mdp_dsi_cmd_config(int32_t a1, int32_t a2);
int32_t mdp_dsi_cmd_tearcheck_cfg(int32_t a1, int32_t a2);
int32_t mdp_gdsc_ctrl(int32_t a1, int32_t a2);
int32_t mot_sst_create_token(void);
int32_t msm_boot_uart_dm_write(int32_t a1, int32_t a2, int32_t a3);
int32_t platform_get_virt_to_phys_mapping(int32_t a1, int32_t a2, int32_t a3);
int32_t platform_init_mmu_mappings(void);
int32_t pm8x41_ldo_get(int32_t a1, int32_t a2);
int32_t pm8x41_reset_configure(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t SecGetRndData(char * a1, unsigned char a2);
int32_t SecHashFinal(int32_t a1, int32_t a2);
int32_t strings_count(int32_t a1, int32_t a2);
int32_t strings_delete(char * a1, int32_t a2);
int32_t target_disable_resets(char * a1, int32_t a2, int32_t a3, int32_t a4);
int32_t target_serialno(char * a1, int32_t a2);
int32_t ulpi_read(uint32_t a1, int32_t a2);
int32_t ulpi_write(uint32_t a1, int32_t a2);

// --------------------- Global Variables ---------------------

int32_t g10 = 0; // LR
int32_t g11 = 0; // R0
int32_t g12 = 0; // R1
int32_t g13 = 0; // R2
int32_t g14 = 0; // R3
int32_t g15 = 0; // R4
int32_t g16 = 0; // R5
int32_t g17 = 0; // R6
int32_t g18 = 0; // R7
int32_t g19 = 0; // R8
int32_t g1 = 8; // 0x8f67c624
int32_t g2 = -0x1201f230; // 0x8f68ac00
int32_t g3 = 0x65440030; // 0x8f69c66f
int32_t g4 = 1; // 0x8f6ac0f0
int32_t g5 = 1; // 0x8f6afd7c
int32_t g6 = -1; // 0x8f6affb0
char * g7; // 0x8f6b79a0
int32_t g8 = 0; // 0x8f6b7c24
int32_t g9 = 0; // 0x8f7112f4

// ------------------------ Functions -------------------------

// Address range: 0x8f679f54 - 0x8f679fef
int32_t __utags_invalidate(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6) {
    int32_t v1 = g9;
    int32_t v2 = g4;
    int32_t v3 = &g4; // R6
    int32_t v4 = v2 + 1; // 0x8f679f78
    g4 = v4;
    if (v2 == 0) {
        // 0x8f679f88
        function_8f619448(a1);
        // branch -> 0x8f679f8c
    }
    int32_t v5 = get_utags(a1, v4, (int32_t)&g9); // 0x8f679f90
    int32_t v6 = *(int32_t *)(v5 + 12); // 0x8f679f98
    int32_t result = free_tags(v6, v4, (int32_t)&g9, (int32_t)&g4, a1, v1, a3, g15); // 0x8f679f9c
    *(int32_t *)(v5 + 12) = 0;
    *(int32_t *)(v5 + 16) = 0;
    int32_t v7 = g4 - 1; // 0x8f679fb0
    *(int32_t *)v3 = v7;
    if (v7 == 0) {
        // 0x8f679fc0
        return function_8f619438();
    }
    // 0x8f679fc4
    if (v1 == g9) {
        // 0x8f679fd8
        return __utags_init(a1, v4, v1, v1, g15, g16, g17, g18, g10, a5, a6, 0, 0);
    }
    // 0x8f679fd4
    __stack_chk_fail();
    return result;
}

// --------------- Statically Linked Functions ----------------

// void __stack_chk_fail(void);
// void free(void * ptr);
// void * malloc(size_t size);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);
// void * memset(void * s, int c, size_t n);
// int snprintf(char * restrict s, size_t maxlen, const char * restrict format, ...);
// char * strcpy(char * restrict dest, const char * restrict src);
// size_t strlen(const char * s);
// char * strncpy(char * restrict dest, const char * restrict src, size_t n);

// --------------- Instruction-Idiom Functions ----------------

// int32_t llvm_bswap_i32(int32_t a1);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 30
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 19:37:37
