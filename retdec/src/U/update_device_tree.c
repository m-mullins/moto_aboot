//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int32_t bptools_mode(int32_t a1, int32_t a2, int32_t a3);
int32_t cmd_multiflash_mmc_sparse_img(int32_t a1, char * a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6, int32_t a7, int32_t a8, int32_t a9, int32_t a10, int32_t a11, int32_t a12);
int32_t factory_otv_bypass(int32_t a1, int32_t a2);
void function_8f64b354(int32_t a1, int32_t a2, int32_t a3);
int32_t get_entry_index(void);
int32_t get_entry_name(int32_t a1, int32_t a2);
int32_t get_hw_rel(char * a1, int32_t a2, int32_t a3);
char * get_partition_by_name(char * a1);
int32_t get_partition_count(void);
int32_t gpio_config_blsp_i2c(int32_t a1, int32_t a2);
int32_t gpio_config_uart_dm(int32_t a1);
int32_t gpio_status(int32_t a1, int32_t a2, int32_t a3);
int32_t hab_assert_verification(int32_t a1, int32_t a2, int32_t a3);
int32_t hab_csf_check(int32_t a1, int32_t a2, int32_t a3);
int32_t handle_fboot_command_multiflash(int32_t * a1);
int32_t is_bptools_mode(void);
int32_t led_blink(int32_t a1, int32_t a2);
int32_t led_on(char a1, int32_t a2, int32_t a3);
int32_t pm8x41_adc_channel_read(int32_t a1);
int32_t pm8x41_clear_pmic_watchdog(void);
int32_t pm8x41_get_batt_voltage(int32_t a1, int32_t a2, int32_t a3);
int32_t pm8x41_irq_mask_ack(uint32_t a1, uint32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t pm8x41_masked_reg_write(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t pm8x41_set_boot_done(int32_t a1);
int32_t strlcpy(int32_t a1, char * str);
int32_t target_cont_splash_screen(int32_t a1, int32_t a2, int32_t a3);
int32_t target_enable_cont_splash_screen(int32_t a1);
int32_t tlmm_set_pins(int32_t * a1);
int32_t update_device_tree(char * a1, char * a2, int32_t a3, int32_t a4);

// --------------------- Global Variables ---------------------

int32_t g43 = 0; // LR
int32_t g44 = 0; // R0
int32_t g45 = 0; // R1
int32_t g46 = 0; // R2
int32_t g47 = 0; // R4
int32_t g48 = 0; // R5
int32_t g49 = 0; // R6
int32_t g50 = 0; // R7
int32_t g51 = 0; // R8
int32_t g1 = -0x16d2bf8d; // 0x8f6137d0
int32_t g2 = -0x1a60df94; // 0x8f6502a8
int32_t g3 = 0x65440030; // 0x8f69c66f
int32_t g4 = -1; // 0x8f6ac0c0
int32_t g5 = -1; // 0x8f6ac0c4
int32_t g6 = -1; // 0x8f6ac0c8
int32_t g7 = -1; // 0x8f6ac0cc
int32_t g8 = 1; // 0x8f6ac0dc
char * g9 = "\n"; // 0x8f6ac1b0
int32_t g10 = -1; // 0x8f6ac1c4
int32_t g11 = -1; // 0x8f6ac1f4
int32_t g12 = -1; // 0x8f6ac214
int32_t g13 = 0x3100; // 0x8f6afddc
int16_t g14 = 49; // 0x8f6afde2
int32_t g15 = 0x3100; // 0x8f6afde8
int16_t g16 = 6; // 0x8f6afdee
int32_t g17 = 0x3100; // 0x8f6afdf4
int32_t g18 = 0; // 0x8f6c0378
int32_t g19 = 0; // 0x8f6c037c
int64_t g20 = 0; // 0x8f6c0380
int32_t g21 = 0; // 0x8f6c0384
int32_t g22 = 0; // 0x8f6c0388
int32_t g23 = 0; // 0x8f6c038c
char * g24; // 0x8f6c0394
int32_t g25 = 0; // 0x8f6c03b4
char * g26; // 0x8f6c03b8
int32_t g27 = 0; // 0x8f6c03c8
char * g28; // 0x8f6c03d4
int32_t g29 = 0; // 0x8f6c03dc
char * g30; // 0x8f6c03e0
int32_t g31 = 0; // 0x8f6e0c44
char * g32; // 0x8f6e0c48
int32_t g33 = 0; // 0x8f6e0c49
int32_t g34 = 0; // 0x8f6e0c4c
int32_t g35 = 0; // 0x8f6e1310
char * g36; // 0x8f6e1318
int32_t g37 = 0; // 0x8f6e5800
int32_t g38 = 0; // 0x8f7112f4
char * g39; // 0x8f7125f0
char * g40; // 0x8f7129d8
int32_t g41 = 0; // 0x8f712f2c
int32_t g42 = 0; // 0x8f71302c

// ------------------------ Functions -------------------------

// Address range: 0x8f6155dc - 0x8f61619f
int32_t update_device_tree(char * a1, char * a2, int32_t a3, int32_t a4) {
    int32_t v1;
    char * v2 = (char *)v1; // bp-280
    int32_t v3 = (int32_t)a1;
    int32_t v4 = (int32_t)a2;
    int32_t v5 = a3; // R2
    int32_t v6 = v3; // R8
    int32_t v7 = v4; // R7
    int32_t v8 = a3; // R10
    int32_t v9 = g38;
    int32_t v10 = v9; // R3
    int32_t v11;
    int32_t v12;
    int32_t v13;
    int32_t v14;
    int32_t v15;
    int32_t v16;
    int32_t v17;
    int32_t v18 = fdt_check_header(v3, v4, a3, v9, v17, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11); // 0x8f615600
    int32_t v19; // 0x8f61601477
    int32_t v20; // 0x8f61601485
    int32_t v21; // 0x8f61601493
    int32_t v22; // 0x8f61603c102
    int32_t v23; // 0x8f61603c103
    int32_t v24; // 0x8f61603c69
    int32_t v25; // R1
    int32_t v26;
    int32_t v27;
    int32_t result; // 0x8f615eb0
    if (v18 != 0) {
        // if_8f615608_0_true
        v25 = (int32_t)"Invalid device tree header \n";
        v23 = v17;
        // branch -> 0x8f615770
        // 0x8f615770
        print_log(-1, (int32_t)"Invalid device tree header \n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
        v22 = v23;
        v21 = v26;
        v20 = v11;
        v19 = v12;
        v24 = v16;
        // branch -> 0x8f615eac
        // 0x8f615eac
        result = v18;
        v5 = v9;
        v27 = g38;
        v10 = v27;
        if (v9 != v27) {
            goto lab_0x8f615ec4_7;
        }
        // 0x8f616064
        return result;
    }
    int32_t v28 = *(int32_t *)(v6 + 4); // 0x8f615614
    int32_t v29 = fdt32_to_cpu(v28, v4, v5, v10, v17, 0, 0, v16, 0) + 0x1000; // 0x8f615620
    v5 = v29;
    int32_t v30 = fdt_open_into(v6, v6, v29, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26); // 0x8f615628
    int32_t v31 = v30; // R4
    if (v30 == 0) {
        // 0x8f615648
        v25 = 1;
        if (update_cached_node_offset(v6, 1, v5, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13) != -1) {
            // 0x8f615664
            g49 = &g4;
            int32_t v32;
            int32_t v33;
            int32_t v34;
            int32_t v35;
            int32_t v36 = target_dev_tree_mem(v6, g5, v5, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2, v35, v34, v33, v32); // 0x8f615678
            if (v36 != 0) {
                // if_8f615680_0_true
                v25 = (int32_t)"ERROR: Cannot update memory node\n";
                v23 = v17;
                // branch -> 0x8f615770
                // 0x8f615770
                print_log(-1, (int32_t)"ERROR: Cannot update memory node\n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                v22 = v23;
                v21 = v26;
                v20 = v11;
                v19 = v12;
                v24 = v16;
                // branch -> 0x8f615eac
                // 0x8f615eac
                result = v36;
                v5 = v9;
                v27 = g38;
                v10 = v27;
                if (v9 != v27) {
                    goto lab_0x8f615ec4_7;
                }
                // 0x8f616064
                return result;
            }
            int32_t v37 = update_meminfo_to_devtree(v6, g5, v5, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13, v12); // 0x8f615694
            if (v37 != 0) {
                // if_8f61569c_0_true
                v25 = (int32_t)"ERROR: Cannot update mem info to devtree\n";
                v23 = v17;
                // branch -> 0x8f615770
                // 0x8f615770
                print_log(-1, (int32_t)"ERROR: Cannot update mem info to devtree\n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                v22 = v23;
                v21 = v26;
                v20 = v11;
                v19 = v12;
                v24 = v16;
                // branch -> 0x8f615eac
                // 0x8f615eac
                result = v37;
                v5 = v9;
                v27 = g38;
                v10 = v27;
                if (v9 != v27) {
                    goto lab_0x8f615ec4_7;
                }
                // 0x8f616064
                return result;
            }
            // 0x8f6156a8
            v25 = 2;
            if (update_cached_node_offset(v6, 2, v5, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13) == -1) {
                // 0x8f61565c
                v31 = -1;
                v22 = v17;
                v21 = v26;
                v20 = v11;
                v19 = v12;
                v24 = v16;
                // branch -> 0x8f615eac
            } else {
                int32_t v38 = g6; // R5
                v5 = (int32_t)"mmi,reserve";
                v10 = 2048;
                v25 = g6;
                int32_t v39 = fdt_reserveprop(v6, g6, (int32_t)"mmi,reserve", 2048, v17, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26); // 0x8f6156d0
                v31 = v39;
                if (v39 == 0) {
                    int32_t str = v7; // 0x8f6156e4
                    int32_t v40 = v17; // 0x8f61603c104
                    int32_t v41; // 0x8f61601475
                    int32_t v42; // 0x8f61601476
                    int32_t v43; // 0x8f61601483
                    int32_t v44; // 0x8f61601484
                    int32_t v45; // 0x8f61601487
                    int32_t v46; // 0x8f61601491
                    int32_t v47; // 0x8f61601492
                    int32_t v48; // 0x8f615a18
                    int32_t v49; // 0x8f61603c100
                    int32_t v50; // 0x8f61603c101
                    int32_t v51; // 0x8f61603c97
                    int32_t v52; // 0x8f61603c98
                    int32_t v53; // 0x8f61603c63
                    int32_t v54; // 0x8f61603c67
                    int32_t v55; // 0x8f61603c68
                    int32_t v56; // 0x8f615a18
                    int32_t v57; // 0x8f615a30
                    int32_t v58; // 0x8f615ec8
                    int32_t v59;
                    int32_t str4;
                    int32_t str3;
                    int32_t v60;
                    int32_t v61;
                    int32_t v62; // 0x8f615fcc
                    int32_t v63; // 0x8f615f68
                    if (str != 0) {
                        int32_t v64 = v38; // 0x8f6156f4
                        v25 = v64;
                        v5 = (int32_t)"bootargs";
                        int32_t v65 = v7; // 0x8f6156fc
                        v10 = v65;
                        int32_t v66 = strlen((char *)str) + 1; // 0x8f615700
                        int32_t v67 = fdt_appendprop_str(v6, v64, (int32_t)"bootargs", v65, v66, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2); // 0x8f61570c
                        v31 = v67;
                        if (v67 != 0) {
                            // if_8f615714_0_true
                            v25 = (int32_t)"ERROR: Cannot update chosen node [bootargs]\n";
                            v23 = v66;
                            // branch -> 0x8f615770
                            // 0x8f615770
                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [bootargs]\n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                            v22 = v23;
                            v21 = v26;
                            v20 = v11;
                            v19 = v12;
                            v24 = v16;
                            // branch -> 0x8f615eac
                          lab_0x8f615eac_9:
                            // 0x8f615eac
                            result = v31;
                            v5 = v9;
                            v27 = g38;
                            v10 = v27;
                            if (v9 == v27) {
                                // 0x8f616064
                                return result;
                            }
                          lab_0x8f615ec4_7:
                            // 0x8f615ec4
                            __stack_chk_fail();
                            v50 = v22;
                            v47 = v21;
                            v44 = v20;
                            v42 = v19;
                            v55 = v24;
                            // branch -> 0x8f615ec8
                            // 0x8f615ec8
                            v58 = get_current_panel(result, v25, v5, v10, v50, 0, 0, v55, 0, 0, v15);
                            v8 = v58;
                            int32_t v68; // 0x8f61601470
                            int32_t v69; // 0x8f61601478
                            int32_t v70; // 0x8f61601486
                            int32_t v71; // 0x8f615838
                            int32_t v72; // 0x8f615ea8
                            int32_t v73; // 0x8f615ea8
                            int32_t v74; // 0x8f615ea8
                            int32_t v75; // 0x8f61603c62
                            int32_t v76; // 0x8f615ea4
                            if (v58 == 0) {
                                v48 = 0;
                                v49 = v50;
                                v46 = v47;
                                v43 = v44;
                                v41 = v42;
                                v54 = v55;
                              lab_0x8f615a18_3:
                                // 0x8f615a18
                                v56 = display_get_auto_detect_state(v48, v25, v5, v10);
                                v5 = (int32_t)"mmi,display_auto_detect";
                                v10 = v56;
                                v57 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                v31 = v57;
                                if (v57 != 0) {
                                  lab_if_8f615a38_0_true_5:
                                    // if_8f615a38_0_true
                                    v25 = (int32_t)"ERROR: Cannot update [mmi,auto_detect_state]\n";
                                    v52 = v49;
                                    v53 = v54;
                                    v71 = (int32_t)"ERROR: Cannot update [mmi,auto_detect_state]\n";
                                    // branch -> 0x8f615838
                                  lab_0x8f615838_2:
                                    // 0x8f615838
                                    print_log(-1, v71, v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                    v51 = v52;
                                    v75 = v53;
                                    // branch -> 0x8f615ea4
                                  lab_0x8f615ea4_5:
                                    // 0x8f615ea4
                                    fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                    v22 = v51;
                                    v21 = v46;
                                    v20 = v43;
                                    v19 = v41;
                                    v24 = v75;
                                    // branch -> 0x8f615eac
                                    goto lab_0x8f615eac_9;
                                }
                              lab_0x8f615a44_5:;
                                int32_t v77 = v56; // 0x8f615a44
                                print_log(1, (int32_t)"Set \"mmi,auto_detect_state\" to 0x%x\n", v77, v10, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                int32_t v78 = __utag_sizeof((char *)v31, (int32_t)"esd", v77, v10, v49, 0, 0, v54, 0); // 0x8f615a5c
                                v38 = v78;
                                int32_t v79; // 0x8f615ad4
                                int32_t v80; // 0x8f615aec
                                if (v78 == 1) {
                                    int32_t v81 = __utag_read((char *)v31, (int32_t)"esd", (int32_t)&v61, 1, v49, 0, 0, v54, 0, 0, v15, v14, v13); // 0x8f615a7c
                                    if (v81 != 0) {
                                        int32_t v82 = 0x1000000 * v61;
                                        v10 = v82 / 0x1000000;
                                        if ((v82 || 0xffffff) < 0x1ffffff) {
                                            // 0x8f615a94
                                            v5 = (int32_t)"mmi,esd";
                                            int32_t v83 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,esd", 0, v49, 0, 0, v54, 0, 0, v15, v14, v13); // 0x8f615aa0
                                            v31 = v83;
                                            if (v83 == 0) {
                                                // 0x8f615ab4
                                                print_log(v38, (int32_t)"UTAG set to disable esd, set \"mmi,esd\" to 0\n", v5, v10, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                                // branch -> 0x8f615ac0
                                                // 0x8f615ac0
                                                v32 = 48;
                                                v79 = fdt_add_subnode(v6, a4, (int32_t)"mmi,bl_sigs", 48, v49, 0, 0, v54, 0, 0, v15);
                                                v5 = (int32_t)"mmi,reserve";
                                                v10 = 256;
                                                g49 = v79;
                                                v80 = fdt_reserveprop(v6, v79, (int32_t)"mmi,reserve", 256, v49, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46);
                                                v31 = v80;
                                                if (v80 == 0) {
                                                  lab_0x8f615b00:;
                                                    // 0x8f615b00
                                                    int32_t str2;
                                                    int32_t v84 = &str2; // 0x8f615b04_0
                                                    int32_t v85 = (int32_t)&v2;
                                                    v2 = "sbl1";
                                                    build_sig_for_all((int32_t)"sbl1", (int32_t)&g1, v85, v10, v49, 0, 0, v54, 0, 0, v15, v14);
                                                    int32_t len = strlen((char *)&str2); // 0x8f615b20
                                                    int32_t v86 = &v32; // 0x8f615b28_0
                                                    int32_t v87 = len + 1; // 0x8f615b30
                                                    fdt_setprop(v6, g49, v86, v84, v87, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2);
                                                    int32_t v88 = 0x1000000 * v32 / 0x1000000 + 1; // 0x8f615b50
                                                    v2 = "rpm";
                                                    v32 = 0x1000000 * v88 / 0x1000000;
                                                    build_sig_for_all((int32_t)"rpm", (int32_t)&g1, v85, v88, v87, 0, 0, v54, 0, 0, v15, v14);
                                                    int32_t v89 = strlen((char *)&str2) + 1; // 0x8f615b78
                                                    fdt_setprop(v6, g49, v86, v84, v89, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2);
                                                    int32_t v90 = 0x1000000 * v32 / 0x1000000 + 1; // 0x8f615b98
                                                    v2 = "tz";
                                                    v32 = 0x1000000 * v90 / 0x1000000;
                                                    build_sig_for_all((int32_t)"tz", (int32_t)&g1, v85, v90, v89, 0, 0, v54, 0, 0, v15, v14);
                                                    int32_t v91 = strlen((char *)&str2) + 1; // 0x8f615bc0
                                                    fdt_setprop(v6, g49, v86, v84, v91, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2);
                                                    int32_t v92 = 0x1000000 * v32 / 0x1000000 + 1; // 0x8f615be0
                                                    v2 = "hyp";
                                                    v32 = 0x1000000 * v92 / 0x1000000;
                                                    build_sig_for_all((int32_t)"hyp", (int32_t)&g1, v85, v92, v91, 0, 0, v54, 0, 0, v15, v14);
                                                    int32_t v93 = strlen((char *)&str2) + 1; // 0x8f615c08
                                                    fdt_setprop(v6, g49, v86, v84, v93, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2);
                                                    int32_t v94 = 0x1000000 * v32 / 0x1000000 + 1; // 0x8f615c28
                                                    v2 = "aboot";
                                                    v32 = 0x1000000 * v94 / 0x1000000;
                                                    build_sig_for_all((int32_t)"aboot", (int32_t)&g1, v85, v94, v93, 0, 0, v54, 0, 0, v15, v14);
                                                    int32_t len2 = strlen((char *)&str2); // 0x8f615c40
                                                    v5 = v86;
                                                    v10 = v84;
                                                    int32_t v95 = len2 + 1; // 0x8f615c50
                                                    fdt_setprop(v6, g49, v86, v84, v95, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2);
                                                    int32_t v96 = &str3; // 0x8f615c64_0
                                                    int32_t v97; // 0x8f61603c108
                                                    int32_t v98; // 0x8f615cbc_0
                                                    int32_t v99; // 0x8f615cc0
                                                    if (__utag_gets_constprop_6((int32_t)"battery", v96, v5, v10, v95, 0, 0, v54, 0, 0, v15, v14, v13, v41) != 0) {
                                                        int32_t len3 = strlen((char *)&str3); // 0x8f615c78
                                                        v5 = (int32_t)"mmi,battery";
                                                        v10 = v96;
                                                        int32_t v100 = len3 + 1; // 0x8f615c88
                                                        int32_t v101 = fdt_setprop(v6, a4, (int32_t)"mmi,battery", v96, v100, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2); // 0x8f615c94
                                                        v38 = v101;
                                                        int32_t v102; // 0x8f615d00
                                                        int32_t v103; // 0x8f615ce0
                                                        if (v101 == 0) {
                                                            // 0x8f615ca8
                                                            v5 = v96;
                                                            print_log(2, (int32_t)"Set \"mmi,battery\" to %s\n", v96, v10, v100, 0, 0, v54, 0, 0, v15, v14, v13);
                                                            v95 = v100;
                                                            // branch -> 0x8f615cb8
                                                            // 0x8f615cb8
                                                            v98 = &str4;
                                                            v99 = __utag_gets_constprop_6((int32_t)"battid", v98, v5, v10, v95, 0, 0, v54, 0, 0, v15, v14, v13, v41);
                                                            v97 = v95;
                                                            int32_t v104; // 0x8f615d24
                                                            if (v99 != 0) {
                                                              lab_0x8f615ccc:;
                                                                int32_t len4 = strlen((char *)&str4); // 0x8f615cd0
                                                                v5 = (int32_t)"mmi,battid";
                                                                v10 = v98;
                                                                v103 = len4 + 1;
                                                                int32_t v105 = fdt_setprop(v6, a4, (int32_t)"mmi,battid", v98, v103, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46, (int32_t)v2); // 0x8f615cec
                                                                v38 = v105;
                                                                if (v105 == 0) {
                                                                    // 0x8f615d0c
                                                                    print_log(2, (int32_t)"Set \"mmi,battid\" to %s\n", v98, v10, v103, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                    v97 = v103;
                                                                    // branch -> 0x8f615d1c
                                                                    // 0x8f615d1c
                                                                    v104 = __utag_sizeof(NULL, (int32_t)"disable-reset", v98, v10, v97, 0, 0, v54, 0);
                                                                    v38 = v104;
                                                                    int32_t v106; // 0x8f615e4c
                                                                    int32_t v107; // 0x8f615e50
                                                                    if (v104 == 1) {
                                                                      lab_0x8f615d34:;
                                                                        int32_t v108 = &v60; // 0x8f615d3c_0
                                                                        v10 = 1;
                                                                        if (__utag_read(NULL, (int32_t)"disable-reset", v108, 1, v97, 0, 0, v54, 0, 0, v15, v14, v13) != 0) {
                                                                            int32_t v109 = 0x1000000 * v60;
                                                                            int32_t v110 = v109 / 0x1000000; // 0x8f615d50
                                                                            v10 = v110;
                                                                            if ((v109 || 0xffffff) >= 0x1ffffff) {
                                                                                // 0x8f615d5c
                                                                                print_log(v38, (int32_t)"Disabling user reset!\n", v108, v110, v97, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                if (update_cached_node_offset(v6, 3, v108, v10, v97, 0, 0, v54, 0, 0, v15, v14, v13) == -1) {
                                                                                    // 0x8f615e44
                                                                                    v31 = -1;
                                                                                    // branch -> 0x8f615e48
                                                                                } else {
                                                                                    // 0x8f615d7c
                                                                                    v10 = &g4;
                                                                                    int32_t v111 = fdt_node_offset_by_compatible(v6, g7, (int32_t)"qcom,qpnp-power-on", (int32_t)&g4, v97, 0, 0, v54, 0, 0, v15, v14, v13); // 0x8f615d8c
                                                                                    g49 = v111;
                                                                                    if (v111 < 0) {
                                                                                        // if_8f615d94_0_true
                                                                                        // branch -> 0x8f615dc8
                                                                                    } else {
                                                                                        int32_t v112 = fdt_subnode_offset((char *)v6, v111, (int32_t)"qcom,pon_1", v10, v97, 0, 0, v54, 0); // 0x8f615db0
                                                                                        g49 = v112;
                                                                                        if (v112 > -1) {
                                                                                            // 0x8f615dd4
                                                                                            v10 = 0;
                                                                                            int32_t v113 = fdt_getprop(v6, v112, (int32_t)"qcom,support-reset", 0, v97, 0, 0, v54, 0, 0); // 0x8f615de4
                                                                                            int32_t v114; // 0x8f615e3c
                                                                                            int32_t v115; // 0x8f615e3c
                                                                                            if (v113 == 0) {
                                                                                                // if_8f615dec_0_true
                                                                                                v114 = v38;
                                                                                                v115 = (int32_t)"Not found setting for qcom,support-reset\n";
                                                                                                // branch -> 0x8f615e3c
                                                                                              lab_0x8f615e3c:
                                                                                                // 0x8f615e3c
                                                                                                print_log(v114, v115, (int32_t)"qcom,support-reset", v10, v97, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                                // branch -> 0x8f615e48
                                                                                            } else {
                                                                                                int32_t v116 = *(int32_t *)v113; // 0x8f615df8
                                                                                                print_log(2, (int32_t)"found qcom,support-reset: %d\n", llvm_bswap_i32(v116), v10, v97, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                                if (v116 == 0x1000000) {
                                                                                                    // 0x8f615e18
                                                                                                    v10 = 0;
                                                                                                    int32_t v117 = fdt_setprop_u32(v6, g49, (int32_t)"qcom,support-reset", 0, v97, 0, 0, v54, 0, 0, v15, v14, v13); // 0x8f615e28
                                                                                                    v31 = v117;
                                                                                                    if (v117 != 0) {
                                                                                                        // 0x8f615e34
                                                                                                        v114 = 0;
                                                                                                        v115 = (int32_t)"ERROR: Cannot update [qcom,support-reset]\n";
                                                                                                        // branch -> 0x8f615e3c
                                                                                                        goto lab_0x8f615e3c;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                          lab_0x8f615e48:
                                                                                            // 0x8f615e48
                                                                                            v106 = v6;
                                                                                            v25 = v106;
                                                                                            v107 = a4;
                                                                                            v5 = v107;
                                                                                            utags_set_chosen(1, v106, v107, v10, v97, 0, 0, v54);
                                                                                            v51 = v97;
                                                                                            v75 = v54;
                                                                                            // branch -> 0x8f615ea4
                                                                                            goto lab_0x8f615ea4_5;
                                                                                        } else {
                                                                                            // 0x8f615dbc
                                                                                            // branch -> 0x8f615dc8
                                                                                            // 0x8f615dc8
                                                                                            print_log(0, (int32_t)"Failed to find %s\n", (int32_t)"qcom,pon_1", v10, v97, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                            v31 = g49;
                                                                                            // branch -> 0x8f615e48
                                                                                            goto lab_0x8f615e48;
                                                                                        }
                                                                                      lab_0x8f615e48_2:
                                                                                        // 0x8f615e48
                                                                                        v106 = v6;
                                                                                        v25 = v106;
                                                                                        v107 = a4;
                                                                                        v5 = v107;
                                                                                        utags_set_chosen(1, v106, v107, v10, v97, 0, 0, v54);
                                                                                        v51 = v97;
                                                                                        v75 = v54;
                                                                                        // branch -> 0x8f615ea4
                                                                                        goto lab_0x8f615ea4_5;
                                                                                    }
                                                                                    // 0x8f615dc8
                                                                                    print_log(0, (int32_t)"Not found %s\n", (int32_t)"qcom,qpnp-power-on", v10, v97, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                    v31 = g49;
                                                                                    // branch -> 0x8f615e48
                                                                                    goto lab_0x8f615e48_2;
                                                                                }
                                                                                // 0x8f615e48
                                                                                v106 = v6;
                                                                                v25 = v106;
                                                                                v107 = a4;
                                                                                v5 = v107;
                                                                                utags_set_chosen(1, v106, v107, v10, v97, 0, 0, v54);
                                                                                v51 = v97;
                                                                                v75 = v54;
                                                                                // branch -> 0x8f615ea4
                                                                                goto lab_0x8f615ea4_5;
                                                                            }
                                                                        }
                                                                    }
                                                                  lab_0x8f615e48_3:
                                                                    // 0x8f615e48
                                                                    v106 = v6;
                                                                    v25 = v106;
                                                                    v107 = a4;
                                                                    v5 = v107;
                                                                    utags_set_chosen(1, v106, v107, v10, v97, 0, 0, v54);
                                                                    v51 = v97;
                                                                    v75 = v54;
                                                                    // branch -> 0x8f615ea4
                                                                    goto lab_0x8f615ea4_5;
                                                                } else {
                                                                    // 0x8f615cf8
                                                                    v25 = (int32_t)"ERROR: Cannot update [mmi,battid]\n";
                                                                    v102 = (int32_t)"ERROR: Cannot update [mmi,battid]\n";
                                                                    // branch -> 0x8f615d00
                                                                  lab_0x8f615d00:
                                                                    // 0x8f615d00
                                                                    print_log(-1, v102, v5, v10, v103, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                    v31 = v38;
                                                                    v51 = v103;
                                                                    v75 = v54;
                                                                    // branch -> 0x8f615ea4
                                                                    goto lab_0x8f615ea4_5;
                                                                }
                                                                // 0x8f615ea4
                                                                v76 = v6;
                                                                v72 = v25;
                                                                v73 = v5;
                                                                v74 = v10;
                                                                fdt_pack(v76, v72, v73, v74, v59, 0, 0, 0, 0, 0, 0);
                                                                v22 = v51;
                                                                v21 = v70;
                                                                v20 = v69;
                                                                v19 = v68;
                                                                v24 = v75;
                                                                // branch -> 0x8f615eac
                                                                goto lab_0x8f615eac_9;
                                                            }
                                                          lab_0x8f615d1c:
                                                            // 0x8f615d1c
                                                            v104 = __utag_sizeof(NULL, (int32_t)"disable-reset", v5, v10, v97, 0, 0, v54, 0);
                                                            v38 = v104;
                                                            if (v104 == 1) {
                                                                goto lab_0x8f615d34;
                                                            }
                                                            goto lab_0x8f615e48_3;
                                                        } else {
                                                            // if_8f615c9c_0_true
                                                            v25 = (int32_t)"ERROR: Cannot update [mmi,battery]\n";
                                                            v103 = v100;
                                                            v102 = (int32_t)"ERROR: Cannot update [mmi,battery]\n";
                                                            // branch -> 0x8f615d00
                                                            goto lab_0x8f615d00;
                                                        }
                                                        // 0x8f615ea4
                                                        v76 = v6;
                                                        v72 = v25;
                                                        v73 = v5;
                                                        v74 = v10;
                                                        fdt_pack(v76, v72, v73, v74, v59, 0, 0, 0, 0, 0, 0);
                                                        v22 = v51;
                                                        v21 = v70;
                                                        v20 = v69;
                                                        v19 = v68;
                                                        v24 = v75;
                                                        // branch -> 0x8f615eac
                                                        goto lab_0x8f615eac_9;
                                                    }
                                                    // 0x8f615cb8
                                                    v98 = &str4;
                                                    v99 = __utag_gets_constprop_6((int32_t)"battid", v98, v5, v10, v95, 0, 0, v54, 0, 0, v15, v14, v13, v41);
                                                    if (v99 == 0) {
                                                        v97 = v95;
                                                        goto lab_0x8f615d1c;
                                                    }
                                                    goto lab_0x8f615ccc;
                                                } else {
                                                  lab_if_8f615af4_0_true:
                                                    // if_8f615af4_0_true
                                                    v25 = (int32_t)"ERROR: Cannot update chosen node [reserve]\n";
                                                    v52 = v49;
                                                    v53 = v54;
                                                    v71 = (int32_t)"ERROR: Cannot update chosen node [reserve]\n";
                                                    // branch -> 0x8f615838
                                                    goto lab_0x8f615838_2;
                                                }
                                              lab_0x8f615ea4_8:
                                                // 0x8f615ea4
                                                fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                                v22 = v51;
                                                v21 = v70;
                                                v20 = v69;
                                                v19 = v68;
                                                v24 = v75;
                                                // branch -> 0x8f615eac
                                                goto lab_0x8f615eac_9;
                                            } else {
                                                // if_8f615aa8_0_true
                                                v25 = (int32_t)"ERROR: Cannot update [mmi,esd]\n";
                                                v52 = v49;
                                                v53 = v54;
                                                v71 = (int32_t)"ERROR: Cannot update [mmi,esd]\n";
                                                // branch -> 0x8f615838
                                                goto lab_0x8f615838_2;
                                            }
                                          lab_0x8f615838_5:
                                            // 0x8f615838
                                            print_log(-1, v71, v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                            v51 = v52;
                                            v70 = v45;
                                            v69 = v63;
                                            v68 = v62;
                                            v75 = v53;
                                            // branch -> 0x8f615ea4
                                            goto lab_0x8f615ea4_8;
                                        }
                                    }
                                }
                                // 0x8f615ac0
                                v32 = 48;
                                v79 = fdt_add_subnode(v6, a4, (int32_t)"mmi,bl_sigs", 48, v49, 0, 0, v54, 0, 0, v15);
                                v5 = (int32_t)"mmi,reserve";
                                v10 = 256;
                                g49 = v79;
                                v80 = fdt_reserveprop(v6, v79, (int32_t)"mmi,reserve", 256, v49, 0, 0, v54, 0, 0, v15, v14, v13, v41, v43, v46);
                                v31 = v80;
                                if (v80 == 0) {
                                    goto lab_0x8f615b00;
                                }
                                goto lab_if_8f615af4_0_true;
                            } else {
                              lab_0x8f615ed4_4:;
                                int32_t v118 = update_mmi_panel_props(v6, v58, v5, v10, v50, 0, 0, v55, 0, 0, v15, v14, v13, v42); // 0x8f615edc
                                v31 = v118;
                                if (v118 == 0) {
                                    // 0x8f615ef0
                                    v25 = 2;
                                    int32_t v119; // 0x8f615a30
                                    int32_t v120; // 0x8f615a30
                                    int32_t v121; // 0x8f61601474
                                    int32_t v122; // 0x8f61601482
                                    int32_t v123; // 0x8f61601490
                                    int32_t v124; // 0x8f615a18
                                    int32_t v125; // 0x8f615a18
                                    int32_t v126; // 0x8f615a18
                                    int32_t v127; // 0x8f61603c99
                                    int32_t v128; // 0x8f61603c66
                                    int32_t v129; // 0x8f615a1c
                                    int32_t v130; // 0x8f615a28
                                    if (update_cached_node_offset(v6, 2, v5, v10, v50, 0, 0, v55, 0, 0, v15, v14, v13) == -1) {
                                        v127 = v50;
                                        v123 = v47;
                                        v122 = v44;
                                        v121 = v42;
                                        v128 = v55;
                                      lab_0x8f6157d4:
                                        // 0x8f6157d4
                                        v31 = -1;
                                        v51 = v127;
                                        v70 = v123;
                                        v69 = v122;
                                        v68 = v121;
                                        v75 = v128;
                                        // branch -> 0x8f615ea4
                                        goto lab_0x8f615ea4_8;
                                    } else {
                                        int32_t str5 = v8 + 8; // 0x8f615f04
                                        v38 = str5;
                                        a4 = *(int32_t *)(g49 + 8);
                                        v5 = (int32_t)"mmi,panel_name";
                                        int32_t v131 = v38; // 0x8f615f1c
                                        v10 = v131;
                                        int32_t v132 = strlen((char *)str5) + 1; // 0x8f615f20
                                        int32_t v133 = fdt_setprop(v6, a4, (int32_t)"mmi,panel_name", v131, v132, 0, 0, v55, 0, 0, v15, v14, v13, v42, v44, v47, (int32_t)v2); // 0x8f615f2c
                                        v31 = v133;
                                        if (v133 == 0) {
                                            // 0x8f615e5c
                                            v25 = (int32_t)"Set \"mmi,panel_name\" to %s\n";
                                            int32_t v134 = v38; // 0x8f615e64
                                            v5 = v134;
                                            int32_t v135 = display_get_state(print_log(1, (int32_t)"Set \"mmi,panel_name\" to %s\n", v134, v10, v59, 0, 0, 0, 0, 0, 0, 0, 0), v25, v5); // 0x8f615e6c
                                            int32_t v136 = v135; // R11
                                            int32_t v137 = v135; // 0x8f615a18119
                                            int32_t v138 = v132; // 0x8f61603c106
                                            int32_t v139 = v47; // 0x8f61601489
                                            int32_t v140 = v44; // 0x8f61601481
                                            int32_t v141 = v42; // 0x8f61601473
                                            int32_t v142 = v55; // 0x8f61603c65
                                            int32_t v143; // 0x8f615e78
                                            if (v135 == 0) {
                                                // 0x8f615f44
                                                get_panel_ver(v8, (int32_t)&v15, v5, v10, v132, 0, 0, v55, 0, 0);
                                                v63 = v15;
                                                int32_t v144;
                                                int32_t v145;
                                                v62 = 0x1000000 * v144 / 0x1000000 | 0x1000000 * v145 / 0x10000 | 0x1000000 * v63 | 256 * v63 & 0xff0000;
                                                int32_t v146;
                                                int32_t v147;
                                                int32_t v148 = 0x1000000 * v147 / 256 | 0x1000000 * v14 | 0x1000000 * v146 / 0x1000000 | v136; // 0x8f615fe4
                                                g49 = v148;
                                                int32_t v149;
                                                int32_t v150 = v148 | 0x1000000 * v149 / 0x10000; // 0x8f615ff8
                                                v5 = (int32_t)"mmi,panel_ver";
                                                v13 = v150;
                                                int32_t v151 = &v13; // 0x8f61600c_0
                                                v10 = v151;
                                                int32_t v152 = fdt_setprop(v6, a4, (int32_t)"mmi,panel_ver", v151, 8, 0, 0, -264, 0, 0, v63, v14, v150, v62, v63, v14, (int32_t)v2); // 0x8f616014
                                                v31 = v152;
                                                if (v152 == 0) {
                                                    // 0x8f61602c
                                                    v25 = (int32_t)"Set \"mmi,panel_ver\" to 0x%llx\n";
                                                    int32_t v153 = v15; // 0x8f616038
                                                    v5 = v153;
                                                    v137 = print_log(1, (int32_t)"Set \"mmi,panel_ver\" to 0x%llx\n", v153, v14, 8, 0, 0, -264, 0, 0, v153, v14, v13);
                                                    v138 = 8;
                                                    v139 = v14;
                                                    v140 = v63;
                                                    v141 = v62;
                                                    v142 = -264;
                                                    // branch -> 0x8f615e78
                                                    // 0x8f615e78
                                                    v143 = *(int32_t *)(v8 + 500);
                                                    v10 = v143;
                                                    if (v143 == 0) {
                                                        v48 = v137;
                                                        v49 = v138;
                                                        v46 = v139;
                                                        v43 = v140;
                                                        v41 = v141;
                                                        v54 = v142;
                                                        goto lab_0x8f615a18_3;
                                                    }
                                                  lab_0x8f615e84:;
                                                    char v154 = *(char *)(v143 + 37); // 0x8f615e84
                                                    int32_t v155 = v154; // 0x8f615e84
                                                    v10 = v155;
                                                    if (v154 != 0) {
                                                        v48 = v137;
                                                        v49 = v138;
                                                        v46 = v139;
                                                        v43 = v140;
                                                        v41 = v141;
                                                        v54 = v142;
                                                        goto lab_0x8f615a18_3;
                                                    }
                                                    int32_t v156 = disable_mdss_duallink(v6, v25, v5, v155, v59, 0, 0, 0, 0, 0, 0, 0, 0); // 0x8f615e94
                                                    if (v156 > -1) {
                                                        // 0x8f616044
                                                        v25 = 2;
                                                        int32_t v157 = update_cached_node_offset(v6, 2, v5, v10, v59, 0, 0, 0, 0, 0, 0, 0, 0); // 0x8f61604c
                                                        if (v157 == -1) {
                                                            v127 = v138;
                                                            v123 = v139;
                                                            v122 = v140;
                                                            v121 = v141;
                                                            v128 = v142;
                                                            goto lab_0x8f6157d4;
                                                        }
                                                        // 0x8f616058
                                                        v10 = &g4;
                                                        a4 = g6;
                                                        v48 = v157;
                                                        v49 = v138;
                                                        v46 = v139;
                                                        v43 = v140;
                                                        v41 = v141;
                                                        v54 = v142;
                                                        // branch -> 0x8f615a18
                                                        goto lab_0x8f615a18_3;
                                                    } else {
                                                        // 0x8f615ea0
                                                        v31 = v156;
                                                        v51 = v138;
                                                        v70 = v139;
                                                        v69 = v140;
                                                        v68 = v141;
                                                        v75 = v142;
                                                        // branch -> 0x8f615ea4
                                                        goto lab_0x8f615ea4_8;
                                                    }
                                                    // 0x8f615ea4
                                                    v76 = v6;
                                                    v72 = v25;
                                                    v73 = v5;
                                                    v74 = v10;
                                                    fdt_pack(v76, v72, v73, v74, v59, 0, 0, 0, 0, 0, 0);
                                                    v22 = v51;
                                                    v21 = v70;
                                                    v20 = v69;
                                                    v19 = v68;
                                                    v24 = v75;
                                                    // branch -> 0x8f615eac
                                                    goto lab_0x8f615eac_9;
                                                } else {
                                                    // if_8f616020_0_true
                                                    v25 = (int32_t)"ERROR: Cannot update [mmi,panel_ver]\n";
                                                    v52 = 8;
                                                    v45 = v14;
                                                    v53 = -264;
                                                    v71 = (int32_t)"ERROR: Cannot update [mmi,panel_ver]\n";
                                                    // branch -> 0x8f615838
                                                    goto lab_0x8f615838_5;
                                                }
                                              lab_0x8f615a18_4:
                                                // 0x8f615a18
                                                v56 = display_get_auto_detect_state(v137, v25, v5, v10);
                                                v5 = (int32_t)"mmi,display_auto_detect";
                                                v10 = v56;
                                                v57 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                                v31 = v57;
                                                if (v57 == 0) {
                                                    goto lab_0x8f615a44_5;
                                                }
                                                goto lab_if_8f615a38_0_true_5;
                                            }
                                            // 0x8f615e78
                                            v143 = *(int32_t *)(v8 + 500);
                                            v10 = v143;
                                            if (v143 == 0) {
                                                v49 = v138;
                                                v46 = v139;
                                                v43 = v140;
                                                v41 = v141;
                                                v54 = v142;
                                                goto lab_0x8f615a18_4;
                                            }
                                            goto lab_0x8f615e84;
                                        } else {
                                            // 0x8f615f38
                                            v25 = (int32_t)"ERROR: Cannot update [mmi,panel_name]\n";
                                            v52 = v132;
                                            v45 = v47;
                                            v63 = v44;
                                            v62 = v42;
                                            v53 = v55;
                                            v71 = (int32_t)"ERROR: Cannot update [mmi,panel_name]\n";
                                            // branch -> 0x8f615838
                                            goto lab_0x8f615838_5;
                                        }
                                        // 0x8f615a18
                                        v124 = v25;
                                        v125 = v5;
                                        v126 = v10;
                                        v56 = display_get_auto_detect_state(v48, v124, v125, v126);
                                        v129 = a4;
                                        v5 = (int32_t)"mmi,display_auto_detect";
                                        v38 = v56;
                                        v130 = v6;
                                        v10 = v56;
                                        v119 = v15;
                                        v120 = v13;
                                        v57 = fdt_setprop_u32(v130, v129, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v119, v14, v120);
                                        v31 = v57;
                                        if (v57 == 0) {
                                            goto lab_0x8f615a44_5;
                                        }
                                        goto lab_if_8f615a38_0_true_5;
                                    }
                                    // 0x8f615a18
                                    v124 = v25;
                                    v125 = v5;
                                    v126 = v10;
                                    v56 = display_get_auto_detect_state(v48, v124, v125, v126);
                                    v129 = a4;
                                    v5 = (int32_t)"mmi,display_auto_detect";
                                    v38 = v56;
                                    v130 = v6;
                                    v10 = v56;
                                    v119 = v15;
                                    v120 = v13;
                                    v57 = fdt_setprop_u32(v130, v129, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v119, v14, v120);
                                    v31 = v57;
                                    if (v57 == 0) {
                                        goto lab_0x8f615a44_5;
                                    }
                                    goto lab_if_8f615a38_0_true_5;
                                } else {
                                    // if_8f615ee4_0_true
                                    v25 = (int32_t)"ERROR: Cannot update panel props\n";
                                    v52 = v50;
                                    v45 = v47;
                                    v63 = v44;
                                    v62 = v42;
                                    v53 = v55;
                                    v71 = (int32_t)"ERROR: Cannot update panel props\n";
                                    // branch -> 0x8f615838
                                    goto lab_0x8f615838_5;
                                }
                              lab_0x8f615ea4_12:
                                // 0x8f615ea4
                                fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                v22 = v51;
                                v21 = v26;
                                v20 = v11;
                                v19 = v12;
                                v24 = v16;
                                // branch -> 0x8f615eac
                                goto lab_0x8f615eac_9;
                            }
                            int32_t v158 = v5; // 0x8f615838
                            int32_t v159 = v10; // 0x8f615838
                            int32_t v160 = v15; // 0x8f615838
                            int32_t v161 = v13; // 0x8f615838
                            print_log(-1, v71, v158, v159, v52, 0, 0, v53, 0, 0, v160, v14, v161);
                            v51 = v52;
                            v70 = v45;
                            v69 = v63;
                            v68 = v62;
                            v75 = v53;
                            // branch -> 0x8f615ea4
                            goto lab_0x8f615ea4_12;
                        } else {
                            v40 = v66;
                        }
                    }
                    // 0x8f615720
                    int32_t v162; // 0x8f615778
                    int32_t v163; // 0x8f615784
                    int32_t v164; // 0x8f61578c
                    int32_t v165; // 0x8f6157c8
                    int32_t v166; // 0x8f6157f0
                    int32_t v167; // 0x8f615824
                    int32_t v168; // 0x8f615840
                    int32_t v169; // 0x8f615854
                    int32_t v170; // 0x8f615878
                    int32_t v171; // 0x8f615894
                    int32_t v172; // 0x8f6158c0
                    int32_t v173; // 0x8f6158ec
                    int32_t v174; // 0x8f615910
                    int32_t v175; // 0x8f615934
                    int32_t v176; // 0x8f615948
                    int32_t str6; // 0x8f615950
                    int32_t len5; // 0x8f615954
                    int32_t v177; // 0x8f615970
                    int32_t v178; // 0x8f615984
                    int32_t v179; // 0x8f6159a0
                    int32_t v180; // 0x8f6159d0
                    int32_t v181; // 0x8f6159f4
                    int32_t v182; // 0x8f615a08
                    int32_t v183;
                    int32_t v184; // 0x8f615964
                    int32_t v185; // 0x8f6158a4
                    int32_t v186; // 0x8f6158b0
                    int32_t v187; // 0x8f6157e8
                    int32_t v188; // 0x8f615818
                    int32_t v189; // 0x8f615874
                    int32_t v190; // 0x8f615928
                    int32_t v191; // 0x8f615930
                    int32_t v192; // 0x8f61595c
                    int32_t v193; // 0x8f615994
                    int32_t v194; // 0x8f6157dc
                    int32_t v195; // 0x8f615820
                    int32_t v196; // 0x8f6158d0
                    int32_t v197; // 0x8f61590c
                    if (a4 != 0) {
                        int32_t v198 = v8; // 0x8f615734
                        int32_t v199 = fdt_setprop_u32(v6, v38, (int32_t)"linux,initrd-start", v198, v40, 0, 0, v16, 0, 0, v15, v14, v13); // 0x8f615738
                        v31 = v199;
                        if (v199 != 0) {
                            // if_8f615740_0_true
                            v25 = (int32_t)"ERROR: Cannot update chosen node [linux,initrd-start]\n";
                            v23 = v40;
                            // branch -> 0x8f615770
                            // 0x8f615770
                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,initrd-start]\n", (int32_t)"linux,initrd-start", v198, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                            v22 = v23;
                            v21 = v26;
                            v20 = v11;
                            v19 = v12;
                            v24 = v16;
                            // branch -> 0x8f615eac
                          lab_0x8f615eac_12:
                            // 0x8f615eac
                            result = v31;
                            v5 = v9;
                            v27 = g38;
                            v10 = v27;
                            if (v9 != v27) {
                                goto lab_0x8f615ec4_7;
                            }
                            // 0x8f616064
                            return result;
                        }
                        int32_t v200 = v38; // 0x8f615750
                        v25 = v200;
                        v5 = (int32_t)"linux,initrd-end";
                        int32_t v201 = v8 + a4; // 0x8f615758
                        v10 = v201;
                        int32_t v202 = fdt_setprop_u32(v6, v200, (int32_t)"linux,initrd-end", v201, v40, 0, 0, v16, 0, 0, v15, v14, v13); // 0x8f61575c
                        if (v202 == 0) {
                            // 0x8f615778
                            v162 = get_powerup_reason(NULL, v25, v5, v10, v40, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2);
                            v7 = 1;
                            v38 = v162;
                            v163 = target_hwrev(v162, v25, v5, v10);
                            v164 = target_mot_prod_id((char *)v163, v25, v5, v10);
                            v61 = 0x1000000 * v7 / 0x1000000;
                            memset((char *)&str3, 0, 17);
                            v5 = 17;
                            memset((char *)&str4, 0, 17);
                            v25 = 2;
                            v10 = 0;
                            v60 = 0;
                            v165 = update_cached_node_offset(v6, 2, v5, 0, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                            if (v165 == -1) {
                                // 0x8f6157d4
                                v31 = -1;
                                v51 = v40;
                                // branch -> 0x8f615ea4
                                goto lab_0x8f615ea4_12;
                            } else {
                                // 0x8f6157dc
                                v194 = g6;
                                a4 = v194;
                                v5 = (int32_t)"mmi,powerup_reason";
                                v187 = v38;
                                v10 = v187;
                                v166 = fdt_setprop_u32(v6, v194, (int32_t)"mmi,powerup_reason", v187, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                v31 = v166;
                                if (v166 == 0) {
                                    // 0x8f615804
                                    print_log(v7, (int32_t)"Powerup reason for kernel: 0x%08X\n", v38, v10, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                    v188 = a4;
                                    v5 = (int32_t)"mmi,mbmversion";
                                    v195 = v10 & -0x10000 | 0x8104;
                                    v10 = v195;
                                    v167 = fdt_setprop_u32(v6, v188, (int32_t)"mmi,mbmversion", v195, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                    v31 = v167;
                                    if (v167 == 0) {
                                        // 0x8f615840
                                        v168 = get_boot_seq(0, v188, v5, v10, v40, 0, 0);
                                        v5 = (int32_t)"mmi,boot_seq";
                                        v10 = v168;
                                        v169 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,boot_seq", v168, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                        v31 = v169;
                                        if (v169 == 0) {
                                            // 0x8f615868
                                            v5 = (int32_t)"linux,hwrev";
                                            v189 = v163;
                                            v10 = v189;
                                            v170 = fdt_setprop_u32(v6, a4, (int32_t)"linux,hwrev", v189, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                            v31 = v170;
                                            if (v170 == 0) {
                                                // 0x8f61588c
                                                v171 = SecProcessorUID((int32_t)&v34, 8, v5, v10, v40, 0, 0, v16, 0, 0, v15);
                                                if (v171 == 0) {
                                                    // 0x8f6158a0
                                                    v185 = llvm_bswap_i32(v34);
                                                    v34 = v185;
                                                    v186 = llvm_bswap_i32(v33);
                                                    v196 = v185;
                                                    v183 = v186;
                                                    // branch -> 0x8f6158c8
                                                } else {
                                                    // 0x8f6158bc
                                                    v34 = v31;
                                                    v172 = mmc_get_psn(v171, 8, v5, v10);
                                                    v196 = v34;
                                                    v183 = v172;
                                                    // branch -> 0x8f6158c8
                                                }
                                                // 0x8f6158c8
                                                print_log(2, (int32_t)"CPU UID %08x%08x\n", v196, v183, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                                v5 = (int32_t)"linux,seriallow";
                                                v10 = v183;
                                                v173 = fdt_setprop_u32(v6, a4, (int32_t)"linux,seriallow", v183, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                                v31 = v173;
                                                if (v173 == 0) {
                                                    // 0x8f615900
                                                    v5 = (int32_t)"linux,serialhigh";
                                                    v197 = v34;
                                                    v10 = v197;
                                                    v174 = fdt_setprop_u32(v6, a4, (int32_t)"linux,serialhigh", v197, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                                    v31 = v174;
                                                    if (v174 == 0) {
                                                        // 0x8f615924
                                                        v190 = a4;
                                                        v25 = v190;
                                                        v5 = (int32_t)"mmi,prod_id";
                                                        v191 = v164;
                                                        v10 = v191;
                                                        v175 = fdt_setprop_u32(v6, v190, (int32_t)"mmi,prod_id", v191, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                                        v31 = v175;
                                                        if (v175 == 0) {
                                                            // 0x8f615948
                                                            v176 = target_cpu(0, v25, v5, v10, v40);
                                                            str6 = target_cpu(v176, v25, v5, v10, v40);
                                                            len5 = strlen((char *)str6);
                                                            v10 = v176;
                                                            v192 = a4;
                                                            v25 = v192;
                                                            v5 = (int32_t)"mmi,msm_hw";
                                                            v184 = len5 + 1;
                                                            v177 = fdt_setprop(v6, v192, (int32_t)"mmi,msm_hw", v176, v184, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2);
                                                            v31 = v177;
                                                            if (v177 == 0) {
                                                                // 0x8f615984
                                                                v178 = get_current_boot_mode(0, v25, v5, v10);
                                                                if (v178 == 4) {
                                                                    // 0x8f615990
                                                                    v193 = a4;
                                                                    v25 = v193;
                                                                    v5 = (int32_t)"mmi,factory-cable";
                                                                    v10 = 1;
                                                                    v179 = fdt_setprop_u32(v6, v193, (int32_t)"mmi,factory-cable", 1, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                    v31 = v179;
                                                                    if (v179 == 0) {
                                                                        // 0x8f6159b4
                                                                        if (display_get_state(0, v25, v5) != 0) {
                                                                            // 0x8f6159c0
                                                                            v5 = (int32_t)"mmi,bare_board";
                                                                            v10 = 1;
                                                                            v180 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,bare_board", 1, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                            v31 = v180;
                                                                            if (v180 == 0) {
                                                                                // 0x8f6159e4
                                                                                v25 = (int32_t)"UTAG set to enable bare_board, set \"mmi,bare_board\" to 1\n";
                                                                                print_log(1, (int32_t)"UTAG set to enable bare_board, set \"mmi,bare_board\" to 1\n", v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                                v181 = disable_mdss_duallink(v6, v25, v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                                if (v181 < 0) {
                                                                                    // 0x8f615ea0
                                                                                    v31 = v181;
                                                                                    v51 = v184;
                                                                                    // branch -> 0x8f615ea4
                                                                                    goto lab_0x8f615ea4_12;
                                                                                } else {
                                                                                    // 0x8f615a00
                                                                                    v25 = 2;
                                                                                    v182 = update_cached_node_offset(v6, 2, v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                                    if (v182 == -1) {
                                                                                        // 0x8f6157d4
                                                                                        v31 = -1;
                                                                                        v51 = v184;
                                                                                        // branch -> 0x8f615ea4
                                                                                        goto lab_0x8f615ea4_12;
                                                                                    } else {
                                                                                        // 0x8f615a14
                                                                                        a4 = g6;
                                                                                        v48 = v182;
                                                                                        v49 = v184;
                                                                                        v46 = v26;
                                                                                        v43 = v11;
                                                                                        v41 = v12;
                                                                                        v54 = v16;
                                                                                        // branch -> 0x8f615a18
                                                                                    }
                                                                                  lab_0x8f615a18_6:
                                                                                    // 0x8f615a18
                                                                                    v56 = display_get_auto_detect_state(v48, v25, v5, v10);
                                                                                    v5 = (int32_t)"mmi,display_auto_detect";
                                                                                    v10 = v56;
                                                                                    v57 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                                    v31 = v57;
                                                                                    if (v57 == 0) {
                                                                                        goto lab_0x8f615a44_5;
                                                                                    }
                                                                                    goto lab_if_8f615a38_0_true_5;
                                                                                }
                                                                              lab_0x8f615ea4_13:
                                                                                // 0x8f615ea4
                                                                                fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                                                                v22 = v52;
                                                                                v21 = v26;
                                                                                v20 = v11;
                                                                                v19 = v12;
                                                                                v24 = v53;
                                                                                // branch -> 0x8f615eac
                                                                                goto lab_0x8f615eac_9;
                                                                            } else {
                                                                                // if_8f6159d8_0_true
                                                                                v25 = (int32_t)"ERROR: Cannot update [mmi,bare_board]\n";
                                                                                v52 = v184;
                                                                                v53 = v16;
                                                                                // branch -> 0x8f615838
                                                                                // 0x8f615838
                                                                                print_log(-1, (int32_t)"ERROR: Cannot update [mmi,bare_board]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                                                // branch -> 0x8f615ea4
                                                                                goto lab_0x8f615ea4_13;
                                                                            }
                                                                          lab_0x8f615ea4_22:
                                                                            // 0x8f615ea4
                                                                            fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                                                            v22 = v52;
                                                                            v21 = v45;
                                                                            v20 = v63;
                                                                            v19 = v62;
                                                                            v24 = v53;
                                                                            // branch -> 0x8f615eac
                                                                            goto lab_0x8f615eac_9;
                                                                        } else {
                                                                            v50 = v184;
                                                                            v47 = v26;
                                                                            v44 = v11;
                                                                            v42 = v12;
                                                                            v55 = v16;
                                                                        }
                                                                    } else {
                                                                        // if_8f6159a8_0_true
                                                                        v25 = (int32_t)"ERROR: Cannot update [mmi,factory-cable]\n";
                                                                        v52 = v184;
                                                                        v53 = v16;
                                                                        // branch -> 0x8f615838
                                                                        // 0x8f615838
                                                                        print_log(-1, (int32_t)"ERROR: Cannot update [mmi,factory-cable]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                                        // branch -> 0x8f615ea4
                                                                        goto lab_0x8f615ea4_22;
                                                                    }
                                                                    // 0x8f615ec8
                                                                    v58 = get_current_panel(0, v25, v5, v10, v50, 0, 0, v55, 0, 0, v15);
                                                                    v8 = v58;
                                                                    if (v58 == 0) {
                                                                        v48 = 0;
                                                                        v49 = v50;
                                                                        v46 = v47;
                                                                        v43 = v44;
                                                                        v41 = v42;
                                                                        v54 = v55;
                                                                        goto lab_0x8f615a18_6;
                                                                    }
                                                                    goto lab_0x8f615ed4_4;
                                                                } else {
                                                                    v50 = v184;
                                                                    v47 = v26;
                                                                    v44 = v11;
                                                                    v42 = v12;
                                                                    v55 = v16;
                                                                }
                                                            } else {
                                                                // if_8f615978_0_true
                                                                v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,msm_hw]\n";
                                                                v52 = v184;
                                                                v53 = v16;
                                                                // branch -> 0x8f615838
                                                                // 0x8f615838
                                                                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,msm_hw]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                                // branch -> 0x8f615ea4
                                                                goto lab_0x8f615ea4_22;
                                                            }
                                                            // 0x8f615ec8
                                                            v58 = get_current_panel(v178, v25, v5, v10, v50, 0, 0, v55, 0, 0, v15);
                                                            v8 = v58;
                                                            if (v58 == 0) {
                                                                v48 = 0;
                                                                v49 = v50;
                                                                v46 = v47;
                                                                v43 = v44;
                                                                v41 = v42;
                                                                v54 = v55;
                                                                goto lab_0x8f615a18_6;
                                                            }
                                                            goto lab_0x8f615ed4_4;
                                                        } else {
                                                            // if_8f61593c_0_true
                                                            v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,prod_id]\n";
                                                            v52 = v40;
                                                            v53 = v16;
                                                            // branch -> 0x8f615838
                                                        }
                                                        // 0x8f615838
                                                        print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,prod_id]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                        // branch -> 0x8f615ea4
                                                        goto lab_0x8f615ea4_22;
                                                    } else {
                                                        // if_8f615918_0_true
                                                        v25 = (int32_t)"ERROR: Cannot update chosen node [linux,serialhigh]\n";
                                                        v52 = v40;
                                                        v53 = v16;
                                                        // branch -> 0x8f615838
                                                    }
                                                    // 0x8f615838
                                                    print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,serialhigh]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                    // branch -> 0x8f615ea4
                                                    goto lab_0x8f615ea4_22;
                                                } else {
                                                    // if_8f6158f4_0_true
                                                    v25 = (int32_t)"ERROR: Cannot update chosen node [linux,seriallow]\n";
                                                    v52 = v40;
                                                    v53 = v16;
                                                    // branch -> 0x8f615838
                                                }
                                                // 0x8f615838
                                                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,seriallow]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                // branch -> 0x8f615ea4
                                                goto lab_0x8f615ea4_22;
                                            } else {
                                                // if_8f615880_0_true
                                                v25 = (int32_t)"ERROR: Cannot update chosen node [linux,hwrev]\n";
                                                v52 = v40;
                                                v53 = v16;
                                                // branch -> 0x8f615838
                                            }
                                            // 0x8f615838
                                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,hwrev]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                            // branch -> 0x8f615ea4
                                            goto lab_0x8f615ea4_22;
                                        } else {
                                            // if_8f61585c_0_true
                                            v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,boot_seq]\n";
                                            v52 = v40;
                                            v53 = v16;
                                            // branch -> 0x8f615838
                                        }
                                        // 0x8f615838
                                        print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,boot_seq]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                        // branch -> 0x8f615ea4
                                        goto lab_0x8f615ea4_22;
                                    } else {
                                        // 0x8f615830
                                        v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,mbmversion]\n";
                                        v52 = v40;
                                        v53 = v16;
                                        // branch -> 0x8f615838
                                    }
                                    // 0x8f615838
                                    print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,mbmversion]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                    // branch -> 0x8f615ea4
                                    goto lab_0x8f615ea4_22;
                                } else {
                                    // if_8f6157f8_0_true
                                    v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,powerup_reason]\n";
                                    v52 = v40;
                                    v45 = v26;
                                    v63 = v11;
                                    v62 = v12;
                                    v53 = v16;
                                    // branch -> 0x8f615838
                                }
                                // 0x8f615838
                                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,powerup_reason]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                // branch -> 0x8f615ea4
                                goto lab_0x8f615ea4_22;
                            }
                          lab_0x8f615ea4_25:
                            // 0x8f615ea4
                            fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                            v22 = v51;
                            v21 = v26;
                            v20 = v11;
                            v19 = v12;
                            v24 = v16;
                            // branch -> 0x8f615eac
                            goto lab_0x8f615eac_9;
                        } else {
                            // 0x8f615768
                            v25 = (int32_t)"ERROR: Cannot update chosen node [linux,initrd-end]\n";
                            v23 = v40;
                            // branch -> 0x8f615770
                            // 0x8f615770
                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,initrd-end]\n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                            v22 = v23;
                            v21 = v26;
                            v20 = v11;
                            v19 = v12;
                            v24 = v16;
                            // branch -> 0x8f615eac
                        }
                        // 0x8f615eac
                        result = v202;
                        v5 = v9;
                        v27 = g38;
                        v10 = v27;
                        if (v9 != v27) {
                            goto lab_0x8f615ec4_7;
                        }
                        // 0x8f616064
                        return result;
                    }
                    // 0x8f615778
                    v162 = get_powerup_reason(NULL, v25, v5, v10, v40, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2);
                    v7 = 1;
                    v38 = v162;
                    v163 = target_hwrev(v162, v25, v5, v10);
                    v164 = target_mot_prod_id((char *)v163, v25, v5, v10);
                    v61 = 0x1000000 * v7 / 0x1000000;
                    memset((char *)&str3, 0, 17);
                    v5 = 17;
                    memset((char *)&str4, 0, 17);
                    v25 = 2;
                    v10 = 0;
                    v60 = 0;
                    v165 = update_cached_node_offset(v6, 2, v5, 0, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                    if (v165 == -1) {
                        // 0x8f6157d4
                        v31 = -1;
                        v51 = v40;
                        // branch -> 0x8f615ea4
                        goto lab_0x8f615ea4_25;
                    } else {
                        // 0x8f6157dc
                        v194 = g6;
                        a4 = v194;
                        v5 = (int32_t)"mmi,powerup_reason";
                        v187 = v38;
                        v10 = v187;
                        v166 = fdt_setprop_u32(v6, v194, (int32_t)"mmi,powerup_reason", v187, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                        v31 = v166;
                        if (v166 == 0) {
                            // 0x8f615804
                            print_log(v7, (int32_t)"Powerup reason for kernel: 0x%08X\n", v38, v10, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                            v188 = a4;
                            v5 = (int32_t)"mmi,mbmversion";
                            v195 = v10 & -0x10000 | 0x8104;
                            v10 = v195;
                            v167 = fdt_setprop_u32(v6, v188, (int32_t)"mmi,mbmversion", v195, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                            v31 = v167;
                            if (v167 == 0) {
                                // 0x8f615840
                                v168 = get_boot_seq(0, v188, v5, v10, v40, 0, 0);
                                v5 = (int32_t)"mmi,boot_seq";
                                v10 = v168;
                                v169 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,boot_seq", v168, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                v31 = v169;
                                if (v169 == 0) {
                                    // 0x8f615868
                                    v5 = (int32_t)"linux,hwrev";
                                    v189 = v163;
                                    v10 = v189;
                                    v170 = fdt_setprop_u32(v6, a4, (int32_t)"linux,hwrev", v189, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                    v31 = v170;
                                    if (v170 == 0) {
                                        // 0x8f61588c
                                        v171 = SecProcessorUID((int32_t)&v34, 8, v5, v10, v40, 0, 0, v16, 0, 0, v15);
                                        if (v171 == 0) {
                                            // 0x8f6158a0
                                            v185 = llvm_bswap_i32(v34);
                                            v34 = v185;
                                            v186 = llvm_bswap_i32(v33);
                                            v196 = v185;
                                            v183 = v186;
                                            // branch -> 0x8f6158c8
                                        } else {
                                            // 0x8f6158bc
                                            v34 = v31;
                                            v172 = mmc_get_psn(v171, 8, v5, v10);
                                            v196 = v34;
                                            v183 = v172;
                                            // branch -> 0x8f6158c8
                                        }
                                        // 0x8f6158c8
                                        print_log(2, (int32_t)"CPU UID %08x%08x\n", v196, v183, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                        v5 = (int32_t)"linux,seriallow";
                                        v10 = v183;
                                        v173 = fdt_setprop_u32(v6, a4, (int32_t)"linux,seriallow", v183, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                        v31 = v173;
                                        if (v173 == 0) {
                                            // 0x8f615900
                                            v5 = (int32_t)"linux,serialhigh";
                                            v197 = v34;
                                            v10 = v197;
                                            v174 = fdt_setprop_u32(v6, a4, (int32_t)"linux,serialhigh", v197, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                            v31 = v174;
                                            if (v174 == 0) {
                                                // 0x8f615924
                                                v190 = a4;
                                                v25 = v190;
                                                v5 = (int32_t)"mmi,prod_id";
                                                v191 = v164;
                                                v10 = v191;
                                                v175 = fdt_setprop_u32(v6, v190, (int32_t)"mmi,prod_id", v191, v40, 0, 0, v16, 0, 0, v15, v14, v13);
                                                v31 = v175;
                                                if (v175 == 0) {
                                                    // 0x8f615948
                                                    v176 = target_cpu(0, v25, v5, v10, v40);
                                                    str6 = target_cpu(v176, v25, v5, v10, v40);
                                                    len5 = strlen((char *)str6);
                                                    v10 = v176;
                                                    v192 = a4;
                                                    v25 = v192;
                                                    v5 = (int32_t)"mmi,msm_hw";
                                                    v184 = len5 + 1;
                                                    v177 = fdt_setprop(v6, v192, (int32_t)"mmi,msm_hw", v176, v184, 0, 0, v16, 0, 0, v15, v14, v13, v12, v11, v26, (int32_t)v2);
                                                    v31 = v177;
                                                    if (v177 == 0) {
                                                        // 0x8f615984
                                                        v178 = get_current_boot_mode(0, v25, v5, v10);
                                                        if (v178 == 4) {
                                                            // 0x8f615990
                                                            v193 = a4;
                                                            v25 = v193;
                                                            v5 = (int32_t)"mmi,factory-cable";
                                                            v10 = 1;
                                                            v179 = fdt_setprop_u32(v6, v193, (int32_t)"mmi,factory-cable", 1, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                            v31 = v179;
                                                            if (v179 == 0) {
                                                                // 0x8f6159b4
                                                                if (display_get_state(0, v25, v5) != 0) {
                                                                    // 0x8f6159c0
                                                                    v5 = (int32_t)"mmi,bare_board";
                                                                    v10 = 1;
                                                                    v180 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,bare_board", 1, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                    v31 = v180;
                                                                    if (v180 == 0) {
                                                                        // 0x8f6159e4
                                                                        v25 = (int32_t)"UTAG set to enable bare_board, set \"mmi,bare_board\" to 1\n";
                                                                        print_log(1, (int32_t)"UTAG set to enable bare_board, set \"mmi,bare_board\" to 1\n", v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                        v181 = disable_mdss_duallink(v6, v25, v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                        if (v181 < 0) {
                                                                            // 0x8f615ea0
                                                                            v31 = v181;
                                                                            v51 = v184;
                                                                            // branch -> 0x8f615ea4
                                                                            goto lab_0x8f615ea4_25;
                                                                        } else {
                                                                            // 0x8f615a00
                                                                            v25 = 2;
                                                                            v182 = update_cached_node_offset(v6, 2, v5, v10, v184, 0, 0, v16, 0, 0, v15, v14, v13);
                                                                            if (v182 == -1) {
                                                                                // 0x8f6157d4
                                                                                v31 = -1;
                                                                                v51 = v184;
                                                                                // branch -> 0x8f615ea4
                                                                                goto lab_0x8f615ea4_25;
                                                                            } else {
                                                                                // 0x8f615a14
                                                                                a4 = g6;
                                                                                v48 = v182;
                                                                                v49 = v184;
                                                                                v46 = v26;
                                                                                v43 = v11;
                                                                                v41 = v12;
                                                                                v54 = v16;
                                                                                // branch -> 0x8f615a18
                                                                            }
                                                                          lab_0x8f615a18_8:
                                                                            // 0x8f615a18
                                                                            v56 = display_get_auto_detect_state(v48, v25, v5, v10);
                                                                            v5 = (int32_t)"mmi,display_auto_detect";
                                                                            v10 = v56;
                                                                            v57 = fdt_setprop_u32(v6, a4, (int32_t)"mmi,display_auto_detect", v56, v49, 0, 0, v54, 0, 0, v15, v14, v13);
                                                                            v31 = v57;
                                                                            if (v57 == 0) {
                                                                                goto lab_0x8f615a44_5;
                                                                            }
                                                                            goto lab_if_8f615a38_0_true_5;
                                                                        }
                                                                      lab_0x8f615ea4_26:
                                                                        // 0x8f615ea4
                                                                        fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                                                        v22 = v52;
                                                                        v21 = v26;
                                                                        v20 = v11;
                                                                        v19 = v12;
                                                                        v24 = v53;
                                                                        // branch -> 0x8f615eac
                                                                        goto lab_0x8f615eac_12;
                                                                    } else {
                                                                        // if_8f6159d8_0_true
                                                                        v25 = (int32_t)"ERROR: Cannot update [mmi,bare_board]\n";
                                                                        v52 = v184;
                                                                        v53 = v16;
                                                                        // branch -> 0x8f615838
                                                                        // 0x8f615838
                                                                        print_log(-1, (int32_t)"ERROR: Cannot update [mmi,bare_board]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                                        // branch -> 0x8f615ea4
                                                                        goto lab_0x8f615ea4_26;
                                                                    }
                                                                  lab_0x8f615ea4_35:
                                                                    // 0x8f615ea4
                                                                    fdt_pack(v6, v25, v5, v10, v59, 0, 0, 0, 0, 0, 0);
                                                                    v22 = v52;
                                                                    v21 = v45;
                                                                    v20 = v63;
                                                                    v19 = v62;
                                                                    v24 = v53;
                                                                    // branch -> 0x8f615eac
                                                                    goto lab_0x8f615eac_12;
                                                                } else {
                                                                    v50 = v184;
                                                                    v47 = v26;
                                                                    v44 = v11;
                                                                    v42 = v12;
                                                                    v55 = v16;
                                                                }
                                                            } else {
                                                                // if_8f6159a8_0_true
                                                                v25 = (int32_t)"ERROR: Cannot update [mmi,factory-cable]\n";
                                                                v52 = v184;
                                                                v53 = v16;
                                                                // branch -> 0x8f615838
                                                                // 0x8f615838
                                                                print_log(-1, (int32_t)"ERROR: Cannot update [mmi,factory-cable]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                                // branch -> 0x8f615ea4
                                                                goto lab_0x8f615ea4_35;
                                                            }
                                                            // 0x8f615ec8
                                                            v58 = get_current_panel(0, v25, v5, v10, v50, 0, 0, v55, 0, 0, v15);
                                                            v8 = v58;
                                                            if (v58 == 0) {
                                                                v48 = 0;
                                                                v49 = v50;
                                                                v46 = v47;
                                                                v43 = v44;
                                                                v41 = v42;
                                                                v54 = v55;
                                                                goto lab_0x8f615a18_8;
                                                            }
                                                            goto lab_0x8f615ed4_4;
                                                        } else {
                                                            v50 = v184;
                                                            v47 = v26;
                                                            v44 = v11;
                                                            v42 = v12;
                                                            v55 = v16;
                                                        }
                                                    } else {
                                                        // if_8f615978_0_true
                                                        v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,msm_hw]\n";
                                                        v52 = v184;
                                                        v53 = v16;
                                                        // branch -> 0x8f615838
                                                        // 0x8f615838
                                                        print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,msm_hw]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                        // branch -> 0x8f615ea4
                                                        goto lab_0x8f615ea4_35;
                                                    }
                                                    // 0x8f615ec8
                                                    v58 = get_current_panel(v178, v25, v5, v10, v50, 0, 0, v55, 0, 0, v15);
                                                    v8 = v58;
                                                    if (v58 == 0) {
                                                        v48 = 0;
                                                        v49 = v50;
                                                        v46 = v47;
                                                        v43 = v44;
                                                        v41 = v42;
                                                        v54 = v55;
                                                        goto lab_0x8f615a18_8;
                                                    }
                                                    goto lab_0x8f615ed4_4;
                                                } else {
                                                    // if_8f61593c_0_true
                                                    v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,prod_id]\n";
                                                    v52 = v40;
                                                    v53 = v16;
                                                    // branch -> 0x8f615838
                                                }
                                                // 0x8f615838
                                                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,prod_id]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                                // branch -> 0x8f615ea4
                                                goto lab_0x8f615ea4_35;
                                            } else {
                                                // if_8f615918_0_true
                                                v25 = (int32_t)"ERROR: Cannot update chosen node [linux,serialhigh]\n";
                                                v52 = v40;
                                                v53 = v16;
                                                // branch -> 0x8f615838
                                            }
                                            // 0x8f615838
                                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,serialhigh]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                            // branch -> 0x8f615ea4
                                            goto lab_0x8f615ea4_35;
                                        } else {
                                            // if_8f6158f4_0_true
                                            v25 = (int32_t)"ERROR: Cannot update chosen node [linux,seriallow]\n";
                                            v52 = v40;
                                            v53 = v16;
                                            // branch -> 0x8f615838
                                        }
                                        // 0x8f615838
                                        print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,seriallow]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                        // branch -> 0x8f615ea4
                                        goto lab_0x8f615ea4_35;
                                    } else {
                                        // if_8f615880_0_true
                                        v25 = (int32_t)"ERROR: Cannot update chosen node [linux,hwrev]\n";
                                        v52 = v40;
                                        v53 = v16;
                                        // branch -> 0x8f615838
                                    }
                                    // 0x8f615838
                                    print_log(-1, (int32_t)"ERROR: Cannot update chosen node [linux,hwrev]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                    // branch -> 0x8f615ea4
                                    goto lab_0x8f615ea4_35;
                                } else {
                                    // if_8f61585c_0_true
                                    v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,boot_seq]\n";
                                    v52 = v40;
                                    v53 = v16;
                                    // branch -> 0x8f615838
                                }
                                // 0x8f615838
                                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,boot_seq]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                                // branch -> 0x8f615ea4
                                goto lab_0x8f615ea4_35;
                            } else {
                                // 0x8f615830
                                v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,mbmversion]\n";
                                v52 = v40;
                                v53 = v16;
                                // branch -> 0x8f615838
                            }
                            // 0x8f615838
                            print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,mbmversion]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                            // branch -> 0x8f615ea4
                            goto lab_0x8f615ea4_35;
                        } else {
                            // if_8f6157f8_0_true
                            v25 = (int32_t)"ERROR: Cannot update chosen node [mmi,powerup_reason]\n";
                            v52 = v40;
                            v45 = v26;
                            v63 = v11;
                            v62 = v12;
                            v53 = v16;
                            // branch -> 0x8f615838
                        }
                        // 0x8f615838
                        print_log(-1, (int32_t)"ERROR: Cannot update chosen node [mmi,powerup_reason]\n", v5, v10, v52, 0, 0, v53, 0, 0, v15, v14, v13);
                        // branch -> 0x8f615ea4
                        goto lab_0x8f615ea4_35;
                    }
                } else {
                    // if_8f6156d8_0_true
                    v25 = (int32_t)"ERROR: Cannot update chosen node [reserve]\n";
                    v23 = v17;
                    // branch -> 0x8f615770
                }
                // 0x8f615770
                print_log(-1, (int32_t)"ERROR: Cannot update chosen node [reserve]\n", v5, v10, v23, 0, 0, v16, 0, 0, v15, v14, v13);
                v22 = v23;
                v21 = v26;
                v20 = v11;
                v19 = v12;
                v24 = v16;
                // branch -> 0x8f615eac
            }
            // 0x8f615eac
            result = v31;
            v5 = v9;
            v27 = g38;
            v10 = v27;
            if (v9 != v27) {
                goto lab_0x8f615ec4_7;
            }
            // 0x8f616064
            return result;
        }
        // 0x8f61565c
        v31 = -1;
        v22 = v17;
        v21 = v26;
        v20 = v11;
        v19 = v12;
        v24 = v16;
        // branch -> 0x8f615eac
    } else {
        // 0x8f615634
        v25 = (int32_t)"Failed to move/resize dtb buffer: %d\n";
        print_log(-1, (int32_t)"Failed to move/resize dtb buffer: %d\n", v30, v10, v17, 0, 0, v16, 0, 0, v15, v14, v13);
        v22 = v17;
        v21 = v26;
        v20 = v11;
        v19 = v12;
        v24 = v16;
        // branch -> 0x8f615eac
    }
    // 0x8f615eac
    result = v31;
    v5 = v9;
    v27 = g38;
    v10 = v27;
    if (v9 != v27) {
        goto lab_0x8f615ec4_7;
    }
    // 0x8f616064
    return result;
}

// --------------- Statically Linked Functions ----------------

// ulldiv_t __aeabi_uldivmod(unsigned long long a, unsigned long long b);
// void __stack_chk_fail(void);
// void free(void * ptr);
// void * malloc(size_t size);
// int memcmp(const void * s1, const void * s2, size_t n);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);
// void * memset(void * s, int c, size_t n);
// int sprintf(char * restrict s, const char * restrict format, ...);
// int strcmp(const char * s1, const char * s2);
// size_t strlen(const char * s);

// --------------- Instruction-Idiom Functions ----------------

// int32_t llvm_bswap_i32(int32_t a1);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 29
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 19:10:22
