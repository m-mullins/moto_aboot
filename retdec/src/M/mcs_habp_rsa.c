//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <ctype.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int32_t bare_board_clk_enable(int32_t a1, int32_t a2, int32_t a3);
int32_t can_write_partition(int32_t a1, uint32_t a2, int32_t a3);
int32_t charger_gone_irq_handler(int32_t (*a1)(int32_t), int32_t a2, int32_t a3);
int32_t dbval_free(char * a1, int32_t a2, int32_t a3);
int32_t dbval_pal_cid_get_secondary_serial_num_type(char * a1, int32_t a2, int32_t a3);
int32_t dbval_start_timer(int32_t a1, int32_t a2);
int32_t display_image(char * str3, int32_t a2, int32_t a3, int32_t a4);
int32_t fdt_check_header(int32_t * a1, int32_t a2, int32_t a3);
int32_t fdt_get_name(int32_t a1, int32_t a2, int32_t * a3);
int32_t fdt_offset_ptr(int32_t a1, int32_t a2, int32_t a3);
int32_t fdt_subnode_offset(char * a1, int32_t a2, char * str, int32_t a4, int32_t a5);
int32_t finalize_security_policies(int32_t a1, int32_t a2, int32_t a3);
void function_8f64a18c(void);
void function_8f64a1e0(int32_t a1, int32_t a2, int32_t a3);
int32_t hab_check_bound_sig_allowed(int32_t a1, int32_t a2);
int32_t hab_su_srk_selection(int32_t a1, int32_t a2);
int32_t LZ4_decompress_safe_withPrefix64k(char * a1, char * a2, int32_t a3, int32_t a4, int32_t a5);
int32_t mcs_habp_rsa(int32_t a1, int32_t a2, int32_t a3, int32_t a4, uint32_t a5);
int32_t mcs_habp_rsa_crt(int32_t a1, uint32_t a2, int32_t a3, int32_t a4);
int32_t mcs_rng_seed_data(int32_t a1, int32_t a2, int32_t a3);
int32_t mot_sst_pal_delete_user_partition(int32_t a1, int32_t a2);
int32_t mot_sst_pal_erase_token(int32_t a1, int32_t a2);
int32_t ondraw_44(void);
int32_t pm8x41_irq_mask_ack(uint32_t a1, uint32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t pm8x41_irq_unmask(uint32_t a1, uint32_t a2);
int32_t power_source_detected(int32_t a1, int32_t a2, int32_t a3);
int32_t register_usb_connection_callback(char * a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t resume_usb_detection(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t type_atoi_2(char * str, int32_t a2, int32_t a3);
int32_t XXH32(char * a1, int32_t a2, int32_t a3);

// --------------------- Global Variables ---------------------

int32_t g48 = 0; // LR
int32_t g49 = 0; // R0
int32_t g50 = 0; // R1
int32_t g51 = 0; // R10
int32_t g52 = 0; // R12
int32_t g53 = 0; // R2
int32_t g54 = 0; // R3
int32_t g55 = 0; // R4
int32_t g56 = 0; // R5
int32_t g57 = 0; // R6
int32_t g58 = 0; // R7
int32_t g59 = 0; // R8
int32_t g60 = 0; // R9
bool g1 = false; // flagn
bool g2 = false; // flagv
int32_t g3 = -0x16d2bf09; // 0x8f634ac0
int32_t (*g4)() = (int32_t (*)())-0x16d2bff0; // 0x8f665d64
int32_t g5 = -0x16d2bff0; // 0x8f665ddc
int32_t g6 = -0x16d2bff0; // 0x8f6663f0
int32_t g7 = -0x16d2bff0; // 0x8f666470
int32_t g8 = -0x16d2bfd0; // 0x8f6664f4
int32_t g9 = 0x6e61000a; // 0x8f6826e7
char g10[2] = "/"; // 0x8f686fbc
int32_t g11 = 0x5b5e0029; // 0x8f687c45
char * g13[5] = {
    "Your device didn't start up successfully.\n",
    "Use the Software Repair Assistant on computer\n",
    "to repair your device.\n",
    "Connect your device to your computer to get\n",
    "the Software Repair Assistant.\n"
}; // 0x8f69cca0
char * g14[4] = {
    "Use the Software Repair Assistant on computer\n",
    "to repair your device.\n",
    "Connect your device to your computer to get\n",
    "the Software Repair Assistant.\n"
}; // 0x8f69cca4
char * g15[3] = {
    "to repair your device.\n",
    "Connect your device to your computer to get\n",
    "the Software Repair Assistant.\n"
}; // 0x8f69cca8
char * g16[2] = {
    "Connect your device to your computer to get\n",
    "the Software Repair Assistant.\n"
}; // 0x8f69ccac
char (*g17)[32] = "the Software Repair Assistant.\n"; // 0x8f69ccb0
int32_t g18 = 0; // 0x8f69ccc4
char * g19 = "\x01"; // 0x8f6a3f48
int32_t g20 = 0x746e6300; // 0x8f6a4e20
char * g21[2] = {
    "sp",
    "keystore"
}; // 0x8f6a7d98
char * g22 = "\x01"; // 0x8f6aca1c
char * g23 = "\x02"; // 0x8f6aca74
int32_t g24 = 0; // 0x8f6e0724
int32_t g25 = 0; // 0x8f6e0740
char * g26; // 0x8f6e0a00
char * g27; // 0x8f6e0a08
char * g28; // 0x8f6e0a09
int32_t g29 = 0; // 0x8f6e0a28
int32_t g30 = 0; // 0x8f6e0a44
int32_t g31 = 0; // 0x8f6e0a58
int32_t g32 = 0; // 0x8f70dab0
int32_t g33 = 0; // 0x8f7112f4
char * g34; // 0x8f711464
char * g35; // 0x8f711580
char * g36; // 0x8f711588
char * g37; // 0x8f711589
char g38 = 0; // 0x8f71158a
char g39 = 0; // 0x8f71158b
int32_t g40 = 0; // 0x8f712580
int32_t g41 = 0; // 0x8f712584
int32_t g42 = 0; // 0x8f712588
int32_t g43 = 0; // 0x8f71258c
int32_t g44 = 0; // 0x8f712590
int32_t g45 = 0; // 0x8f712594
int32_t g46 = 0; // 0x8f712598
int32_t g47 = 0; // 0x8f7125ec
char * g12[7] = {
    "         Start Up Failed:\n",
    (char *)&g9,
    "Your device didn't start up successfully.\n",
    "Use the Software Repair Assistant on computer\n",
    "to repair your device.\n",
    "Connect your device to your computer to get\n",
    "the Software Repair Assistant.\n"
}; // 0x8f69cc98

// ------------------------ Functions -------------------------

// Address range: 0x8f6658bc - 0x8f6659a7
int32_t mcs_habp_rsa(int32_t a1, int32_t a2, int32_t a3, int32_t a4, uint32_t a5) {
    // 0x8f6658bc
    g60 = a4;
    g57 = &g33;
    g59 = a1;
    g58 = a2;
    g55 = a3;
    g56 = a5 % 0x10000;
    int32_t v1 = g33;
    int32_t v2;
    g51 = v2;
    int32_t v3;
    int32_t v4; // 0x8f66596c
    int32_t v5; // 0x8f665970
    int32_t v6; // 0x8f665974
    int32_t v7; // 0x8f665978
    int32_t v8; // 0x8f66595c
    if (mcs_memcmp(a1, a2, a3, v1, a1, a2, a3) > -1) {
        // 0x8f665950
        g49 = 57;
        // branch -> 0x8f665954
        // 0x8f665954
        v3 = g33;
        v8 = v1 - v3;
        g2 = ((v8 ^ v1) & (v3 ^ v1)) < 0;
        g1 = v8 < 0;
        if (v1 == v3) {
            // 0x8f665984
            return g49;
        }
      lab_0x8f665964:
        // 0x8f665964
        __stack_chk_fail();
        v6 = g55;
        // branch -> 0x8f665968
    } else {
        int32_t v9 = g56; // 0x8f6658f0
        if ((2 * v9 & 0x3ffffffe) + 16 < (4 * v9 & 0x7ffffffc)) {
            // if_8f665900_0_true
            // branch -> after_if_8f665904_0
        }
        uint32_t v10 = g55; // 0x8f665908
        int32_t v11; // 0x8f665948
        if (v10 > 64) {
            // 0x8f665924
            v11 = &g7;
            if (v10 >= 129) {
                // 0x8f665934
                if (v10 > 256) {
                    // 0x8f665950
                    g49 = 57;
                    // branch -> 0x8f665954
                  lab_0x8f665954_2:
                    // 0x8f665954
                    v3 = g33;
                    v8 = v1 - v3;
                    g2 = ((v8 ^ v1) & (v3 ^ v1)) < 0;
                    g1 = v8 < 0;
                    if (v1 != v3) {
                        goto lab_0x8f665964;
                    }
                    // 0x8f665984
                    return g49;
                }
                v11 = &g8;
            }
            // if_8f665948_0_true
            g2 = false;
            g1 = false;
            g52 = v11;
            v6 = v10;
            // branch -> 0x8f665968
        } else {
            // 0x8f665910
            g2 = false;
            g1 = false;
            g52 = &g6;
            v11 = &g6;
            v6 = v10;
            // branch -> 0x8f665968
        }
        // 0x8f665968
        v4 = g59;
        g49 = v4;
        v5 = g58;
        g50 = v5;
        g53 = v6;
        v7 = g60;
        g54 = v7;
        g48 = -0x7099a680;
        ((int32_t (*)(int32_t, int32_t, int32_t, int32_t, int32_t, int32_t))v11)(v4, v5, v6, v7, v9, g51);
        // branch -> 0x8f665954
        goto lab_0x8f665954_2;
    }
    // 0x8f665968
    v4 = g59;
    g49 = v4;
    v5 = g58;
    g50 = v5;
    g53 = v6;
    v7 = g60;
    g54 = v7;
    g48 = -0x7099a680;
    ((int32_t (*)(int32_t, int32_t, int32_t, int32_t, int32_t, int32_t))g52)(v4, v5, v6, v7, g56, g51);
    // branch -> 0x8f665954
    goto lab_0x8f665954_2;
}

// --------------- Statically Linked Functions ----------------

// void __stack_chk_fail(void);
// void free(void * ptr);
// int isalpha(int c);
// void * malloc(size_t size);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);
// void * memset(void * s, int c, size_t n);
// int snprintf(char * restrict s, size_t maxlen, const char * restrict format, ...);
// int strcmp(const char * s1, const char * s2);
// size_t strlen(const char * s);
// int strncmp(const char * s1, const char * s2, size_t n);
// char * strtok(char * restrict s, const char * restrict delim);

// --------------- Instruction-Idiom Functions ----------------

// int32_t llvm_bswap_i32(int32_t a1);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 30
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 19:45:05
