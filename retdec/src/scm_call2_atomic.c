//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

char * scm_call2_atomic(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t scm_dload_mode(int32_t a1);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // R1
int32_t g2 = 0; // R11

// ------------------------ Functions -------------------------

// Address range: 0x8f617768 - 0x8f61788f
char * scm_call2_atomic(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = g2; // 0x8f617768
    int32_t v2;
    int32_t v3 = &v2; // 0x8f61779c_0
    memset((char *)&v2, 0, 64);
    int32_t v4; // bp-88
    int32_t v5 = &v4; // 0x8f6177b4_0
    v4 = 0;
    uint32_t v6;
    int32_t v7;
    if (v6 % 256 == 1) {
        // 0x8f617818
        v2 = (256 * a1 | a2) % 0x10000 | 0x2000000;
        g1 = v5;
        v7 = scm_call2(v3, v5, v3, v5, v1, 0);
        // branch -> 0x8f617864
    } else {
        // 0x8f6177f8
        g1 = a2;
        v7 = scm_call_atomic2(a1, a2, a3, a4, v1);
        // branch -> 0x8f617864
    }
    // 0x8f617864
    if (*(int32_t *)-0x708eed0c != *(int32_t *)-0x708eed0c) {
        // 0x8f617884
        __stack_chk_fail();
        // branch -> 0x8f617888
    }
    // 0x8f617888
    g2 = v1;
    return (char *)v7;
}

// --------------- Statically Linked Functions ----------------

// void __stack_chk_fail(void);
// void * memset(void * s, int c, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 2
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 07:42:32
