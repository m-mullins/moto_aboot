//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <ctype.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int32_t __aeabi_idivmod(int32_t a1, int32_t a2);
int32_t __utag_describe(int32_t a1, int32_t a2, int32_t a3);
int32_t arg_free(char * a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t atoull(char * a1, int32_t a2);
int32_t decode_hw_type(char * a1, int32_t a2, int32_t a3);
int32_t display_render_done(int32_t a1, int32_t a2);
int32_t fdt_pack(int32_t a1, int32_t a2, int32_t a3);
int32_t font_draw_char_moto(int32_t * a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6);
int32_t font_draw_char_moto_horizontal(int32_t * a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6);
void function_8f649e14(void);
void function_8f67b584(void);
int32_t get_timestamp(int32_t a1, int32_t a2, int32_t a3);
int32_t initialize_montgomery_alg(int32_t * a1, int32_t a2, int32_t a3);
int32_t is_charging_enabled(int32_t a1, int32_t a2, int32_t a3);
int32_t mot_sst_get_unlock_data_length(int32_t a1, int32_t a2, int32_t a3);
int32_t mot_sst_is_warranty_void(int32_t a1);
int32_t mot_sst_set_state_values_for_nonhlos(void);
int32_t mot_sst_validate_hash_password(int32_t a1, char * a2);
int32_t mp_mont_sqr(int32_t * a1, int32_t result, int32_t a3);
int32_t pm8x41_gpio_config(int32_t a1, int32_t * a2, int32_t a3);
int32_t pm8x41_set_boot_done(int32_t a1);
int32_t pmic_set_chg_set_mode(char a1, int32_t a2, int32_t a3);
int32_t qtimer_irq(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t SecGetSVNum(uint32_t a1, int32_t a2);
int32_t set_logo(char a1, int32_t a2, int32_t a3);
int32_t sod_update(char * a1, int32_t a2, int32_t a3);
int32_t target_set_prod_id(char * a1, int32_t a2, int32_t a3);
int32_t udc_start(int32_t a1, int32_t a2);
int32_t udc_stop(int32_t a1, int32_t a2);
int32_t wait_clogo(int32_t a1, int32_t a2, int32_t a3);

// --------------------- Global Variables ---------------------

int32_t g16 = 0; // LR
int32_t g17 = 0; // R0
int32_t g18 = 0; // R1
int32_t g19 = 0; // R10
int32_t g20 = 0; // R2
int32_t g21 = 0; // R3
int32_t g22 = 0; // R4
int32_t g23 = 0; // R5
int32_t g24 = 0; // R6
int32_t g25 = 0; // R7
int32_t g26 = 0; // R8
int32_t g27 = 0; // R9
int32_t g1 = -0x16d2bf10; // 0x8f60569c
int32_t g2 = -1; // 0x8f6ac0e0
int32_t g3 = 1; // 0x8f6ac0f0
char * g4 = "\x01"; // 0x8f6afe10
int32_t g5 = 0; // 0x8f6b792c
char * g6; // 0x8f6b794c
int32_t g7 = 0; // 0x8f6b8abc
int32_t g8 = 0; // 0x8f6b8ac0
int32_t g9 = 0; // 0x8f6b8ac4
int32_t (*g10)(int32_t, int32_t, int32_t, int32_t, int32_t, int32_t, int32_t, int32_t) = NULL; // 0x8f6b8ac8
int32_t g11 = 0; // 0x8f6b8acc
int32_t g12 = 0; // 0x8f6e08b8
char * g13; // 0x8f6e08f9
char * g14; // 0x8f6e0b60
int32_t g15 = 0; // 0x8f7112f4

// ------------------------ Functions -------------------------

// Address range: 0x8f64860c - 0x8f64879f
int32_t font_draw_char_moto(int32_t * a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6) {
    int32_t v1 = (int32_t)a1;
    int32_t v2 = g23; // 0x8f64860c
    int32_t v3 = g25; // 0x8f64860c
    g23 = v1;
    g25 = a5;
    int32_t v4 = (*(int32_t *)(v1 + 20) + 7) / 8; // 0x8f648630
    int32_t result = a6; // R0
    int32_t v5 = g15;
    int32_t v6 = 8 * v4; // 0x8f64863c
    int32_t v7;
    int32_t v8 = 0x1000000 * v7;
    int32_t v9 = v6 - 1; // 0x8f648650
    int32_t v10 = *(int32_t *)(v1 + 24); // 0x8f64866022
    if (v10 == 0) {
        int32_t v11 = v4; // 0x8f648684
        int32_t v12 = 0; // 0x8f64867c
        int32_t v13 = 0; // 0x8f648674
        while (true) {
            // 0x8f648670
            result = a3;
            int32_t v14 = (v13 / 2 * a3 + v12 / 2) * v11; // 0x8f648684
            int32_t v15 = 0; // 0x8f6486c4
            int32_t v16; // R10
            int32_t v17; // 0x8f6486d09
            int32_t v18; // 0x8f6486f441
            int32_t v19; // 0x8f6486b45
            int32_t v20; // 0x8f6486d410
            if (v11 != 0) {
                int32_t v21 = 0; // 0x8f648698
                int32_t v22 = *(int32_t *)v1; // 0x8f648694
                int32_t v23 = v21 + 1; // 0x8f64869c
                int32_t v24 = (int32_t)*(char *)(v22 + v21 + v14); // 0x8f6486a0
                result = v24;
                int32_t v25 = v24; // 0x8f6486a4
                v15 = v25;
                // branch -> 0x8f648694
                while (v23 != v11) {
                    // 0x8f648694
                    v21 = v23;
                    v22 = *(int32_t *)v1;
                    v23 = v21 + 1;
                    v24 = (int32_t)*(char *)(v22 + v21 + v14);
                    result = v24;
                    v25 = v24 | 256 * v25;
                    v15 = v25;
                    // continue -> 0x8f648694
                }
                // 0x8f6486ac
                v16 = 0;
                v19 = v6;
                v18 = 0;
                if (v19 != 0) {
                    v20 = 0;
                    v17 = 0;
                  lab_0x8f6486bc:;
                    int32_t v26; // 0x8f6486d4
                    while (true) {
                        uint32_t v27 = (v9 - v17) % 256; // 0x8f6486c4
                        uint32_t v28 = (v15 >> (v27 > 32 ? 32 : v27)) % 2; // 0x8f6486c8
                        uint32_t v29 = v17 % 256; // 0x8f6486cc
                        uint32_t v30 = v29 == 0 ? v28 : v29 < 32 ? v28 << v29 : 0; // 0x8f6486cc
                        int32_t v31 = v17 + 1; // 0x8f6486d0
                        v26 = v30 % 0x10000 | v20;
                        if (v31 == v19) {
                            // break -> 0x8f6486b4
                            break;
                        }
                        v20 = v26;
                        v17 = v31;
                        // continue -> 0x8f6486bc
                    }
                    // 0x8f6486b4
                    result = v9;
                    v16 = v26;
                    v18 = v26;
                    // branch -> 0x8f6486dc
                }
              lab_0x8f6486dc:;
                int32_t v32 = 0; // R6
                int32_t v33 = a5 + 1; // 0x8f6486e0
                int32_t v34 = a5; // 0x8f648664
                int32_t v35 = v1; // 0x8f648660
                if (*(int32_t *)(v1 + 20) == 0) {
                    int32_t v36 = v1; // 0x8f6486e845
                    int32_t v37 = 0; // 0x8f648708
                    int32_t v38 = v18; // 0x8f6486f4
                    int32_t v39; // 0x8f6486e8
                    while (true) {
                        // 0x8f6486f4
                        v39 = v36;
                        int32_t v40 = v37; // 0x8f648738
                        int32_t v41 = v38; // 0x8f648734
                        if (v38 % 2 != 0) {
                            int32_t v42 = v37 + a4; // 0x8f648708
                            int32_t v43;
                            gfx_putpixel(a2, v42, a5, a6, v43, v42, a6, a3, a4);
                            result = a2;
                            gfx_putpixel(a2, v42, v33, a6, v43, v42, a6, a3, a4);
                            v39 = g23;
                            v40 = v32;
                            v41 = v16;
                            // branch -> 0x8f648734
                        }
                        int32_t v44 = v41 / 2; // 0x8f648734
                        v16 = v44;
                        int32_t v45 = v40 + 1; // 0x8f648738
                        v32 = v45;
                        if (v45 < *(int32_t *)(v39 + 20)) {
                            // break -> 0x8f6486e8
                            break;
                        }
                        v36 = v39;
                        v37 = v45;
                        v38 = v44;
                        // continue -> 0x8f6486f4
                    }
                    // 0x8f6486e8
                    v34 = g25;
                    v35 = v39;
                    // branch -> 0x8f648740
                }
                int32_t v46 = a5 + 2; // 0x8f648740
                int32_t v47 = *(int32_t *)(v35 + 24); // 0x8f648660
                int32_t v48 = v46 - v34; // 0x8f648664
                if (v48 < v47) {
                    a5 = v34;
                    // 0x8f648748
                    if ((v8 || 0xffffff) < 0x1ffffff) {
                        // 0x8f648780
                        if (v5 == g15) {
                            // 0x8f648794
                            g23 = v2;
                            g25 = v3;
                            return result;
                        }
                    } else {
                        // 0x8f648758
                        if (v5 == g15) {
                            // 0x8f648768
                            g23 = v2;
                            g25 = v3;
                            return gfx_flush_rows(a2, a5, a5 + v47, v5, g22, v2, g24, v3, g26, g27, g19);
                        }
                    }
                    // 0x8f648790
                    __stack_chk_fail();
                    // branch -> 0x8f648794
                    // 0x8f648794
                    g23 = v2;
                    g25 = v3;
                    return result;
                }
                // 0x8f648740
                a5 = v46;
                v1 = v35;
                v11 = v4;
                v12 = v48;
                v13 = v47;
                // branch -> 0x8f648670
                continue;
            }
            // 0x8f6486ac
            v16 = 0;
            v19 = v6;
            if (v19 == 0) {
                v18 = 0;
                goto lab_0x8f6486dc;
            }
            v20 = 0;
            v17 = 0;
            goto lab_0x8f6486bc;
        }
    }
    // 0x8f648748
    if ((v8 || 0xffffff) < 0x1ffffff) {
        // 0x8f648780
        if (v5 == g15) {
            // 0x8f648794
            g23 = v2;
            g25 = v3;
            return result;
        }
    } else {
        // 0x8f648758
        if (v5 == g15) {
            // 0x8f648768
            g23 = v2;
            g25 = v3;
            return gfx_flush_rows(a2, a5, a5 + v10, v5, g22, v2, g24, v3, g26, g27, g19);
        }
    }
    // 0x8f648790
    __stack_chk_fail();
    // branch -> 0x8f648794
    // 0x8f648794
    g23 = v2;
    g25 = v3;
    return result;
}

// --------------- Statically Linked Functions ----------------

// void __stack_chk_fail(void);
// void free(void * ptr);
// int isdigit(int c);
// int isxdigit(int c);
// void * malloc(size_t size);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 30
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 19:31:19
