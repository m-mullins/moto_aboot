//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int32_t check_wififlash_mode(char * a1, int32_t a2);
int32_t dbval_finalise_cid_datablock(int32_t a1, int32_t a2, int32_t a3);
int32_t endpoint_enable(int32_t a1, int32_t a2, int32_t a3);
int32_t gcc_dsi_clocks_disable(int32_t a1, int32_t a2, int32_t a3);
int32_t gcc_dsi_clocks_enable(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t get_current_boot_mode(int32_t a1, int32_t a2, int32_t a3);
int32_t get_date_buf(int32_t a1, int32_t a2, int32_t a3);
int32_t get_font_type(int32_t a1, int32_t a2);
int32_t init_barcodes(int32_t a1, int32_t a2, int32_t a3);
int32_t is_bootloader_partition(char * str, int32_t a2, int32_t a3);
int32_t is_menu_auto_scroll(int32_t a1);
int32_t mcs_X509Certificate_initialize(int16_t * a1, int32_t a2);
int32_t mdss_dsi_auto_pll_config(int32_t * a1, int32_t a2);
int32_t mdss_dsi_wait4_video_done(int32_t a1);
int32_t mdss_dual_dsi_cmds_tx(int32_t a1, int32_t a2);
int32_t mipi_mot_get_controller_ver(void);
int32_t mipi_mot_get_manufacture_id(int32_t * a1, int32_t a2, int32_t a3);
int32_t normal_mode(int32_t a1, int32_t a2, int32_t a3);
int32_t partition_get_offset(uint32_t a1, int32_t a2);
int32_t qup_i2c_interrupt(int32_t a1, int32_t a2, int32_t a3);
int32_t request_warm_reset(char a1, int32_t a2, int32_t a3);
int32_t smem_get_ram_ptable_version(void);
int32_t spmi_enable_periph_interrupts(int32_t a1, int32_t a2, int32_t a3);
int32_t target_baseband(char * a1, int32_t a2, int32_t a3);
int32_t target_display_panel_node(char * a1, int32_t a2, int32_t a3);
int32_t target_ram_size(int32_t a1, int32_t a2);
int32_t target_usb_init(int32_t a1, int32_t a2);
int32_t write_gpt(int32_t a1, int32_t a2);
int32_t write_protect_was_enabled(char * a1, int32_t a2, int32_t a3);
int32_t write_wdata_from_array(int32_t a1, int32_t a2, int32_t a3, char * a4);

// --------------------- Global Variables ---------------------

int32_t g37 = 0; // LR
int32_t g38 = 0; // R1
int32_t g39 = 0; // R2
int32_t g40 = 0; // R4
int32_t g41 = 0; // R5
int32_t g42 = 0; // R6
int32_t g43 = 0; // R7
int32_t g44 = 0; // R8
int32_t g1 = -0x1a60cf8c; // 0x8f612158
int32_t g2 = 0x1c9496e0; // 0x8f67f5a0
int32_t g3 = 0; // 0x8f67f620
int32_t g4 = 8; // 0x8f67f624
int32_t g5 = 0x65440030; // 0x8f69c66f
char * g6[7] = {
    "utags",
    "pds",
    "persist",
    "mdm1hob",
    "sp",
    "cid",
    "hw"
}; // 0x8f6a2b9c
int32_t g7 = -0x79b779d6; // 0x8f6a6a2b
char * g8 = "\n"; // 0x8f6ac1b0
int32_t g9 = -1; // 0x8f6ac210
int32_t g10 = 0xffff; // 0x8f6acae4
int32_t g11 = 0xffff; // 0x8f6acaec
int32_t g12 = 4; // 0x8f6acb74
int32_t g13 = 4; // 0x8f6acb84
char (*g14)[5] = "sbl1"; // 0x8f6affb4
char g15 = 0; // 0x8f6b50b0
char g16 = 0; // 0x8f6b50b1
char g17 = 0; // 0x8f6b50b2
char g18 = 0; // 0x8f6b50b3
int32_t g19 = 0; // 0x8f6b7944
int32_t g20 = 0; // 0x8f6b8b04
int32_t g21 = 0; // 0x8f6c02aa
int32_t g22 = 0; // 0x8f6c02ba
int32_t g23 = 0; // 0x8f6c02ca
char * g24; // 0x8f6c02dd
char * g25; // 0x8f6c02e4
int32_t g26 = 0; // 0x8f6e130c
int32_t g27 = 0; // 0x8f6e1310
char * g28; // 0x8f6e1314
int32_t g29 = 0; // 0x8f6e1318
int32_t g30 = 0; // 0x8f6e1320
int32_t g31 = 0; // 0x8f6e1324
char * g32; // 0x8f6e9404
char * g33; // 0x8f6e9408
char * g34; // 0x8f70f724
int32_t g35 = 0; // 0x8f7112f4
int32_t g36 = 0; // 0x8f7125ec

// ------------------------ Functions -------------------------

// Address range: 0x8f631bb4 - 0x8f631c83
int32_t is_menu_auto_scroll(int32_t a1) {
    int32_t v1 = &g9; // R4
    int32_t v2 = g9;
    int32_t v3 = g35;
    if (v2 != -1) {
        // 0x8f631bd8
        // branch -> 0x8f631c50
        // 0x8f631c50
        if (v3 != g35) {
            // 0x8f631c60
            __stack_chk_fail();
            // branch -> 0x8f631c64
        }
        // 0x8f631c64
        return v2 == 1;
    }
    int32_t result = 0; // R5
    int32_t v4 = get_device_setting_offset((int32_t)"menu_setting", g38, v3, (int32_t)&g35, a1, v3, g40, g41); // 0x8f631bf0
    int32_t v5;
    if (v4 <= -1) {
        // 0x8f631bfc
        print_log(1, (int32_t)"Use default setting for auto scroll: false\n", v3, (int32_t)&g35, a1, v3, g40, g41, g42, g37, v5, 0, 0);
        *(int32_t *)v1 = result;
        // branch -> 0x8f631c50
        // 0x8f631c50
        if (v3 != g35) {
            // 0x8f631c60
            __stack_chk_fail();
            // branch -> 0x8f631c64
        }
        // 0x8f631c64
        return result;
    }
    // 0x8f631c14
    *(int32_t *)v1 = result;
    int32_t v6 = get_int_prop((int32_t)"auto_scroll", v4, v1, (int32_t)&g35, a1, v3, g40); // 0x8f631c20
    int32_t v7; // R0
    int32_t v8; // 0x8f631c68_22
    if (v6 == -1) {
        // if_8f631c28_0_true
        v7 = 1;
        v8 = 1;
        // branch -> 0x8f631c50
    } else {
        // 0x8f631c30
        print_log(2, (int32_t)"get prop %s: 0x%x\n", (int32_t)"auto_scroll", g9, a1, v3, g40, g41, g42, g37, v5, 0, 0);
        int32_t v9 = g9 != 0;
        v7 = v9;
        v8 = v9;
        // branch -> 0x8f631c50
    }
    // 0x8f631c50
    int32_t result2; // 0x8f631c68_2
    if (v3 != g35) {
        // 0x8f631c60
        __stack_chk_fail();
        result2 = v7;
        // branch -> 0x8f631c64
    } else {
        result2 = v8;
    }
    // 0x8f631c64
    return result2;
}

// --------------- Statically Linked Functions ----------------

// ulldiv_t __aeabi_uldivmod(unsigned long long a, unsigned long long b);
// void __stack_chk_fail(void);
// uLong crc32(uLong crc, const Bytef * buf, uInt len);
// void free(void * ptr);
// void * malloc(size_t size);
// int memcmp(const void * s1, const void * s2, size_t n);
// void * memcpy(void * restrict dest, const void * restrict src, size_t n);
// void * memset(void * s, int c, size_t n);
// int strcmp(const char * s1, const char * s2);
// size_t strlen(const char * s);
// int strncmp(const char * s1, const char * s2, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: android-ndk-r8 (4.4.3 armv5te, armv7a(arm-linux-androideabi-gcc))
// Detected functions: 30
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-08-06 19:00:15
